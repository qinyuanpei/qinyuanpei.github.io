<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>训练 on 元视角</title><link>http://example.org/tags/%E8%AE%AD%E7%BB%83/</link><description>Recent content in 训练 on 元视角</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Wed, 19 May 2021 21:22:41 +0000</lastBuildDate><atom:link href="http://example.org/tags/%E8%AE%AD%E7%BB%83/index.xml" rel="self" type="application/rss+xml"/><item><title>SnowNLP 使用自定义语料进行模型训练</title><link>http://example.org/posts/1772340994/</link><pubDate>Wed, 19 May 2021 21:22:41 +0000</pubDate><guid>http://example.org/posts/1772340994/</guid><description>SnowNLP 是一个功能强大的中文文本处理库，它囊括了中文分词、词性标注、情感分析、文本分类、关键字/摘要提取、TF/IDF、文本相似度等诸多功能，像隐马尔科夫模型、朴素贝叶斯、TextRank等算法均在这个库中有对应的应用。如果大家仔细观察过博主的博客，就会发现博主使用了摘要提取这一功能来增强博客的SEO，即通过自然语言处理(NLP)技术，提取每一篇文章中的摘要信息。因为 SnowNLP 本身使用的语料是电商网站评论，所以，当我们面对不同的使用场景时，它自带的这个模型难免会出现“水土不服”。因此，如果我们希望得到更接近实际的结果，最好的方案是使用自定义语料进行模型训练。值得庆幸的是，这一切在 SnowNLP 中实施起来非常简单，并不需要我们去钻研那些高深莫测的算法。至此，就引出了今天这篇博客的主题，即 SnowNLP 使用自定义语料进行模型训练。
不知道大家是否还有印象，博主曾经在 《通过 Python 分析 2020 年全年微博热搜数据》 这篇文章中提到过 SnowNLP 的模型训练。当时，博主采集了整个 2020 年的微博热搜话题，因为要体现整个一年里的情感变化，博主特意找了两份微博语料，并以此为基础训练出了一个模型文件。
2020全年微博热搜情感变化趋势那么，具体是怎么样做的呢？我们一起来看一下：
from snownlp import sentiment sentiment.train(&amp;#39;./train/neg60000.txt&amp;#39;, &amp;#39;./train/pos60000.txt&amp;#39;) sentiment.save(&amp;#39;weibo.marshal&amp;#39;) 千万不要怀疑你的眼睛，因为它真的只有短短的三行代码。简单来说，我们只需要准备一个“积极”的语料文件，一个“消极”的语料文件，它就可以训练出一个模型文件。特别注意的是，如果是在Python 3.X的版本下，最终生成的模型文件的扩展名将会是.3，下图是博主这里训练出的模型文件：
SnowNLP 使用自定义语料进行模型训练好了，一旦训练出这个模型文件，我们就可以考虑替换掉 SnowNLP 的默认模型文件，我们可以在以下位置：\Lib\site-packages\snownlp\sentiment 找到下列文件。为了安全起见，我们首先将原来的模型文件重命名，然后再放入我们自己的模型文件。
SnowNLP 使用自定义模型替换默认模型此时，我们就可以利用训练好的模型，分析某一条微博的情感倾向。这里我选取了几条我的微博，看看这个情感倾向预测的结果如何：
from snownlp import SnowNLP s = SnowNLP(u&amp;#39;我爱你，并不期待回声&amp;#39;) s.sentiments # 0.8760737296091975 s = SnowNLP(u&amp;#39;想找一个人，一起做老爷爷、老奶奶才做的事情，比如，替我拔一拔头上的白头发……[二哈] ​​&amp;#39;) s.sentiments # 0.001629297651780881 s = SnowNLP(u&amp;#39;如果两个人都不爱了，一别两宽，各生欢喜，其实是挺好的结局；可如果还有一个人爱着，对那个人来说，爱又是什么呢？&amp;#39;) s.sentiments # 0.809651945221708 s = SnowNLP(u&amp;#39;为了发张自拍，特意出来跑步，还有谁？[doge] ​​​&amp;#39;) s.sentiments # 0.4041057894917053 有人说，双子座是一个白天自愈、晚上孤独的星座，我确信这是真的，因为从我出生的那一刻起，那种宏大宇宙中的孤独感就一直笼罩着我，用一句话来形容，大概就是“热闹是人家的，我什么都没有”，因为内心世界里的两个灵魂，从来没有一刻闲歇地在纠缠和撕裂。我一直都想了解一件事情，如果这些基于概率或者是公式的算法，都可以琢磨出人类某个时刻的心境，我们期望别人能懂自己是不是太过矫情，我们是真的了解自己吗？</description></item></channel></rss>