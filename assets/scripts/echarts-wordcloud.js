!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("echarts")):"function"==typeof define&&define.amd?define(["echarts"],e):"object"==typeof exports?exports["echarts-wordcloud"]=e(require("echarts")):t["echarts-wordcloud"]=e(t.echarts)}(this,function(n){return a={},r.m=i=[function(t,e){function s(t){if(null==t||"object"!=typeof t)return t;var e=t,n=m.call(t);if("[object Array]"===n)for(var e=[],r=0,i=t.length;r<i;r++)e[r]=s(t[r]);else if(p[n]){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(r=0,i=t.length;r<i;r++)e[r]=s(t[r])}}else if(!g[n]&&!f(t)&&!c(t))for(var o in e={},t)t.hasOwnProperty(o)&&(e[o]=s(t[o]));return e}function o(t,e,n){if(!h(e)||!h(t))return n?s(e):t;for(var r in e){var i,a;e.hasOwnProperty(r)&&(i=t[r],!h(a=e[r])||!h(i)||l(a)||l(i)||c(a)||c(i)||u(a)||u(i)||f(a)||f(i)?!n&&r in t||(t[r]=s(e[r])):o(i,a,n))}return t}function r(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}function n(t,e,n){if(t&&e)if(t.forEach&&t.forEach===x)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function i(t,e){var n=w.call(arguments,2);return function(){return t.apply(e,n.concat(w.call(arguments)))}}function l(t){return"[object Array]"===m.call(t)}function h(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function u(t){return!!g[m.call(t)]}function c(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function f(t){return t[T]}function a(t){t&&n(t,function(t,e){this.set(e,t)},this)}function d(){return S.createCanvas()}var g={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},p={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},m=Object.prototype.toString,v=Array.prototype,x=v.forEach,y=v.filter,w=v.slice,_=v.map,b=v.reduce,S={};S.createCanvas=function(){return document.createElement("canvas")};var M,T="__ec_primitive__";a.prototype={constructor:a,get:function(t){return this["_ec_"+t]},set:function(t,e){return this["_ec_"+t]=e},each:function(t,e){for(var n in void 0!==e&&(t=i(t,e)),this)this.hasOwnProperty(n)&&t(this[n],n.slice(4))},removeKey:function(t){delete this["_ec_"+t]}},e.$override=function(t,e){S[t]=e},e.clone=s,e.merge=o,e.mergeAll=function(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=o(n,t[r],e);return n},e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.defaults=r,e.createCanvas=d,e.getContext=function(){return M=M||d().getContext("2d")},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1},e.inherits=function(t,e){function n(){}var r,i=t.prototype;for(r in n.prototype=e.prototype,t.prototype=new n,i)t.prototype[r]=i[r];(t.prototype.constructor=t).superClass=e},e.mixin=function(t,e,n){r(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)},e.isArrayLike=function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},e.each=n,e.map=function(t,e,n){if(t&&e){if(t.map&&t.map===_)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}},e.reduce=function(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===b)return t.reduce(e,n,r);for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}},e.filter=function(t,e,n){if(t&&e){if(t.filter&&t.filter===y)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}},e.find=function(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]},e.bind=i,e.curry=function(t){var e=w.call(arguments,1);return function(){return t.apply(this,e.concat(w.call(arguments)))}},e.isArray=l,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===m.call(t)},e.isObject=h,e.isBuiltInObject=u,e.isDom=c,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,n){return null!=t?t:null!=e?e:n},e.slice=function(){return Function.call.apply(w,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.setAsPrimitive=function(t){t[T]=!0},e.isPrimitive=f,e.createHashMap=function(t){return new a(t)},e.noop=function(){}},function(t,e,n){function a(t){r.call(this,t),this.path=null}var r=n(12),o=n(0),s=n(6),l=n(50),d=n(56).prototype.getCanvasPattern,i=Math.abs,g=new s(!0);a.prototype={constructor:a,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var n,r=this.style,i=this.path||g,a=r.hasStroke(),o=r.hasFill(),s=r.fill,l=r.stroke,h=o&&!!s.colorStops,u=a&&!!l.colorStops,c=o&&!!s.image,f=a&&!!l.image;r.bind(t,this,e),this.setTransform(t),this.__dirty&&(h&&(n=n||this.getBoundingRect(),this._fillGradient=r.getGradient(t,s,n)),u&&(n=n||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,l,n))),h?t.fillStyle=this._fillGradient:c&&(t.fillStyle=d.call(s,t)),u?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=d.call(l,t));s=r.lineDash,u=r.lineDashOffset,f=!!t.setLineDash,l=this.getGlobalScale();i.setScale(l[0],l[1]),this.__dirtyPath||s&&!f&&a?(i.beginPath(t),s&&!f&&(i.setLineDash(s),i.setLineDashOffset(u)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o&&i.fill(t),s&&f&&(t.setLineDash(s),t.lineDashOffset=u),a&&i.stroke(t),s&&f&&t.setLineDash([]),this.restoreTransform(t),null!=r.text&&this.drawRectText(t,this.getBoundingRect())},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new s},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n&&(r=(r=this.path)||(this.path=new s),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()),this._rect=t,e.hasStroke()){var r,i=this._rectWithStroke||(this._rectWithStroke=t.clone());return(this.__dirty||n)&&(i.copy(t),r=e.lineWidth,n=e.strokeNoScale?this.getLineScale():1,e.hasFill()||(r=Math.max(r,this.strokeContainThreshold||4)),1e-10<n&&(i.width+=r/n,i.height+=r/n,i.x-=r/n/2,i.y-=r/n/2)),i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var a=this.path.data;if(i.hasStroke()){n=i.lineWidth,r=i.strokeNoScale?this.getLineScale():1;if(1e-10<r&&(i.hasFill()||(n=Math.max(n,this.strokeContainThreshold)),l.containStroke(a,n/r,t,e)))return!0}if(i.hasFill())return l.contain(a,t,e)}return!1},dirty:function(t){(t=null==t?!0:t)&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):r.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(o.isObject(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<i(t[0]-1)&&1e-10<i(t[3]-1)?Math.sqrt(i(t[0]*t[3]-t[2]*t[1])):1}},a.extend=function(i){function t(t){a.call(this,t),i.style&&this.style.extendFrom(i.style,!1);var e=i.shape;if(e){this.shape=this.shape||{};var n,r=this.shape;for(n in e)!r.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(r[n]=e[n])}i.init&&i.init.call(this,t)}for(var e in o.inherits(t,a),i)"style"!==e&&"shape"!==e&&(t.prototype[e]=i[e]);return t},o.inherits(a,r),t.exports=a},function(t,e){function r(t){return Math.sqrt(n(t))}function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function a(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var o="undefined"==typeof Float32Array?Array:Float32Array,s=r,l=n,h=i,u=a;e.create=function(t,e){var n=new o(2);return null==e&&(e=0),n[0]=t=null==t?0:t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new o(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},e.len=r,e.length=s,e.lenSquare=n,e.lengthSquare=l,e.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},e.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.normalize=function(t,e){var n=r(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},e.distance=i,e.dist=h,e.distanceSquare=a,e.distSquare=u,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t},e.applyTransform=function(t,e,n){var r=e[0],e=e[1];return t[0]=n[0]*r+n[2]*e+n[4],t[1]=n[1]*r+n[3]*e+n[5],t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e,n){function l(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}var r,i,a,o,s=n(2),h=n(8),u=s.applyTransform,c=Math.min,f=Math.max;l.prototype={constructor:l,union:function(t){var e=c(t.x,this.x),n=c(t.y,this.y);this.width=f(t.x+t.width,this.x+this.width)-e,this.height=f(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(r=[],i=[],a=[],o=[],function(t){var e;t&&(r[0]=a[0]=this.x,r[1]=o[1]=this.y,i[0]=o[0]=this.x+this.width,i[1]=a[1]=this.y+this.height,u(r,r,t),u(i,i,t),u(a,a,t),u(o,o,t),this.x=c(r[0],i[0],a[0],o[0]),this.y=c(r[1],i[1],a[1],o[1]),e=f(r[0],i[0],a[0],o[0]),t=f(r[1],i[1],a[1],o[1]),this.width=e-this.x,this.height=t-this.y)}),calculateTransform:function(t){var e=t.width/this.width,n=t.height/this.height,r=h.create();return h.translate(r,r,[-this.x,-this.y]),h.scale(r,r,[e,n]),h.translate(r,r,[t.x,t.y]),r},intersect:function(t){if(!t)return!1;t instanceof l||(t=l.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,a=e.y+e.height,o=t.x,s=t.x+t.width,e=t.y,t=t.y+t.height;return!(r<o||s<n||a<e||t<i)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new l(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},l.create=function(t){return new l(t.x,t.y,t.width,t.height)},t.exports=l},function(t,e,n){function c(t){return-i<t&&t<i}function s(t){return i<t||t<-i}function y(t,e,n,r,i){var a=1-i;return a*a*(a*t+3*i*e)+i*i*(i*r+3*a*n)}function v(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}var r=n(2),n=r.create,w=r.distSquare,f=Math.pow,_=Math.sqrt,i=1e-8,d=_(3),b=n(),S=n(),M=n();e.cubicAt=y,e.cubicDerivativeAt=function(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)},e.cubicRootAt=function(t,e,n,r,i,a){var o,s,l,h=r+3*(e-n)-t,u=3*(n-2*e+t),t=u*(r=3*(e-t))-9*h*(n=t-i),i=r*r-3*u*n,n=0;return c(e=u*u-3*h*r)&&c(t)?c(u)?a[0]=0:0<=(s=-r/u)&&s<=1&&(a[n++]=s):c(r=t*t-4*e*i)?(l=-(i=t/e)/2,0<=(s=-u/h+i)&&s<=1&&(a[n++]=s),0<=l&&l<=1&&(a[n++]=l)):0<r?(o=e*u+1.5*h*(-t-(r=_(r))),0<=(s=(-u-((r=(r=e*u+1.5*h*(-t+r))<0?-f(-r,1/3):f(r,1/3))+(o=o<0?-f(-o,1/3):f(o,1/3))))/(3*h))&&s<=1&&(a[n++]=s)):(o=(2*e*u-3*h*t)/(2*_(e*e*e)),t=Math.acos(o)/3,s=(-u-2*(o=_(e))*(e=Math.cos(t)))/(3*h),l=(-u+o*(e+d*Math.sin(t)))/(3*h),h=(-u+o*(e-d*Math.sin(t)))/(3*h),0<=s&&s<=1&&(a[n++]=s),0<=l&&l<=1&&(a[n++]=l),0<=h&&h<=1&&(a[n++]=h)),n},e.cubicExtrema=function(t,e,n,r,i){var a,o=6*n-12*e+6*t,r=9*e+3*r-3*t-9*n,n=3*e-3*t,e=0;return c(r)?s(o)&&0<=(a=-n/o)&&a<=1&&(i[e++]=a):c(t=o*o-4*r*n)?i[0]=-o/(2*r):0<t&&(t=(-o-(n=_(t)))/(2*r),0<=(a=(-o+n)/(2*r))&&a<=1&&(i[e++]=a),0<=t&&t<=1&&(i[e++]=t)),e},e.cubicSubdivide=function(t,e,n,r,i,a){var o=(e-t)*i+t,s=(n-e)*i+e,e=(r-n)*i+n,n=(s-o)*i+o,i=((s=(e-s)*i+s)-n)*i+n;a[0]=t,a[1]=o,a[2]=n,a[3]=i,a[4]=i,a[5]=s,a[6]=e,a[7]=r},e.cubicProjectPoint=function(t,e,n,r,i,a,o,s,l,h,u){var c,f,d,g,p=.005,m=1/0;b[0]=l,b[1]=h;for(var v=0;v<1;v+=.05)S[0]=y(t,n,i,o,v),S[1]=y(e,r,a,s,v),(d=w(b,S))<m&&(c=v,m=d);for(var m=1/0,x=0;x<32&&!(p<1e-4);x++)f=c+p,S[0]=y(t,n,i,o,g=c-p),S[1]=y(e,r,a,s,g),d=w(S,b),0<=g&&d<m?(c=g,m=d):(M[0]=y(t,n,i,o,f),M[1]=y(e,r,a,s,f),g=w(M,b),f<=1&&g<m?(c=f,m=g):p*=.5);return u&&(u[0]=y(t,n,i,o,c),u[1]=y(e,r,a,s,c)),_(m)},e.quadraticAt=v,e.quadraticDerivativeAt=function(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))},e.quadraticRootAt=function(t,e,n,r,i){var a,o=t-2*e+n,n=2*(e-t),e=t-r,t=0;return c(o)?s(n)&&0<=(a=-e/n)&&a<=1&&(i[t++]=a):c(r=n*n-4*o*e)?0<=(a=-n/(2*o))&&a<=1&&(i[t++]=a):0<r&&(r=(-n-(e=_(r)))/(2*o),0<=(a=(-n+e)/(2*o))&&a<=1&&(i[t++]=a),0<=r&&r<=1&&(i[t++]=r)),t},e.quadraticExtremum=function(t,e,n){return 0==(n=t+n-2*e)?.5:(t-e)/n},e.quadraticSubdivide=function(t,e,n,r,i){var a=(e-t)*r+t,r=((e=(n-e)*r+e)-a)*r+a;i[0]=t,i[1]=a,i[2]=r,i[3]=r,i[4]=e,i[5]=n},e.quadraticProjectPoint=function(t,e,n,r,i,a,o,s,l){var h,u=.005,c=1/0;b[0]=o,b[1]=s;for(var f=0;f<1;f+=.05)S[0]=v(t,n,i,f),S[1]=v(e,r,a,f),(m=w(b,S))<c&&(h=f,c=m);for(var c=1/0,d=0;d<32&&!(u<1e-4);d++){var g=h-u,p=h+u;S[0]=v(t,n,i,g),S[1]=v(e,r,a,g);var m=w(S,b);0<=g&&m<c?(h=g,c=m):(M[0]=v(t,n,i,p),M[1]=v(e,r,a,p),g=w(M,b),p<=1&&g<c?(h=p,c=g):u*=.5)}return l&&(l[0]=v(t,n,i,h),l[1]=v(e,r,a,h)),_(c)}},function(t,e,n){function P(t,e){var n=t+":"+(e=e||y);if(m[n])return m[n];for(var r=(t+"").split("\n"),i=0,a=0,o=r.length;a<o;a++)i=Math.max(h(r[a],e).width,i);return x<v&&(v=0,m={}),v++,m[n]=i}function s(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function l(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function I(t,e,n,r,i){if(!e)return"";var a=(t+"").split("\n");i=d(e,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=g(a[o],i);return a.join("\n")}function d(t,e,n,r){(r=p({},r)).font=e;n=L(n,"...");r.maxIterations=L(r.maxIterations,2);var i=r.minChar=L(r.minChar,0);r.cnCharWidth=P("国",e);var a=r.ascCharWidth=P("a",e);r.placeholder=L(r.placeholder,"");for(var o=t=Math.max(0,t-1),s=0;s<i&&a<=o;s++)o-=a;e=P(n);return o<e&&(n="",e=0),o=t-e,r.ellipsis=n,r.ellipsisWidth=e,r.contentWidth=o,r.containerWidth=t,r}function g(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";if((s=P(t,r))<=n)return t;for(var a=0;;a++){if(s<=i||a>=e.maxIterations){t+=e.ellipsis;break}var o=0===a?function(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var s=t.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}(t,i,e.ascCharWidth,e.cnCharWidth):0<s?Math.floor(t.length*i/s):0,s=P(t=t.substr(0,o),r)}return t=""===t?e.placeholder:t}function A(t){return P("国",t)}function h(t,e){return i.measureText(t,e)}function u(t,e,n,r){null!=t&&(t+="");var i=A(e),a=t?t.split("\n"):[],o=a.length*i,s=o;if(n&&(s+=n[0]+n[2]),t&&r){var l=r.outerHeight,h=r.outerWidth;if(null!=l&&l<s)t="",a=[];else if(null!=h)for(var u=d(h-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),c=0,f=a.length;c<f;c++)a[c]=g(a[c],u)}return{lines:a,height:o,outerHeight:s,lineHeight:i}}function c(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,i=R.lastIndex=0;null!=(r=R.exec(t));){var a=r.index;i<a&&O(n,t.substring(i,a)),O(n,r[2],r[1]),i=R.lastIndex}i<t.length&&O(n,t.substring(i,t.length));var o=n.lines,s=0,l=0,h=[],u=e.textPadding,c=e.truncate,f=c&&c.outerWidth,d=c&&c.outerHeight;u&&(null!=f&&(f-=u[1]+u[3]),null!=d&&(d-=u[0]+u[2]));for(var g=0;g<o.length;g++){for(var p=o[g],m=0,v=0,x=0;x<p.tokens.length;x++){var y=(k=p.tokens[x]).styleName&&e.rich[k.styleName]||{},w=k.textPadding=y.textPadding,_=k.font=y.font||e.font,b=k.textHeight=L(y.textHeight,A(_));if(w&&(b+=w[0]+w[2]),k.height=b,k.lineHeight=F(y.textLineHeight,e.textLineHeight,b),k.textAlign=y&&y.textAlign||e.textAlign,k.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=d&&s+k.lineHeight>d)return{lines:[],width:0,height:0};k.textWidth=P(k.text,_);var S,M=y.textWidth,T=null==M||"auto"===M;"string"==typeof M&&"%"===M.charAt(M.length-1)?(k.percentWidth=M,h.push(k),M=0):(T&&(M=k.textWidth,(S=(S=y.textBackgroundColor)&&S.image)&&(S=D.findExistImage(S),D.isImageReady(S)&&(M=Math.max(M,S.width*b/S.height)))),M+=S=w?w[1]+w[3]:0,null!=(w=null!=f?f-v:null)&&w<M&&(!T||w<S?(k.text="",k.textWidth=M=0):(k.text=I(k.text,w-S,_,c.ellipsis,{minChar:c.minChar}),k.textWidth=P(k.text,_),M=k.textWidth+S))),v+=k.width=M,y&&(m=Math.max(m,k.lineHeight))}p.width=v,s+=p.lineHeight=m,l=Math.max(l,v)}n.outerWidth=n.width=L(e.textWidth,l),n.outerHeight=n.height=L(e.textHeight,s),u&&(n.outerWidth+=u[1]+u[3],n.outerHeight+=u[0]+u[2]);for(g=0;g<h.length;g++){var k,C=(k=h[g]).percentWidth;k.width=parseInt(C,10)/100*l}return n}function O(t,e,n){for(var r=""===e,i=e.split("\n"),a=t.lines,o=0;o<i.length;o++){var s,l,h=i[o],u={styleName:n,text:h,isLineHolder:!h&&!r};o?a.push({tokens:[u]}):1===(l=(s=(a[a.length-1]||(a[0]={tokens:[]})).tokens).length)&&s[0].isLineHolder?s[0]=u:!h&&l&&!r||s.push(u)}}var f=n(3),D=n(10),n=n(0),r=n.getContext,p=n.extend,L=n.retrieve2,F=n.retrieve3,m={},v=0,x=5e3,R=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,y="12px sans-serif",i={measureText:function(t,e){var n=r();return n.font=e||y,n.measureText(t)}};e.DEFAULT_FONT=y,e.$override=function(t,e){i[t]=e},e.getWidth=P,e.getBoundingRect=function(t,e,n,r,i,a,o){return a?function(t,e,n,r,i,a,o){e=c(t,{rich:a,truncate:o,font:e,textAlign:n,textPadding:i}),i=e.outerWidth,e=e.outerHeight,n=s(0,i,n),r=l(0,e,r);return new f(n,r,i,e)}(t,e,n,r,i,a,o):function(t,e,n,r,i,a){a=u(t,e,i,a),e=P(t,e);i&&(e+=i[1]+i[3]);i=a.outerHeight,n=s(0,e,n),r=l(0,i,r),i=new f(n,r,e,i);return i.lineHeight=a.lineHeight,i}(t,e,n,r,i,o)},e.adjustTextX=s,e.adjustTextY=l,e.adjustTextPositionOnRect=function(t,e,n){var r=e.x,i=e.y,a=e.height,o=e.width,s=a/2,l="left",h="top";switch(t){case"left":r-=n,i+=s,l="right",h="middle";break;case"right":r+=n+o,i+=s,h="middle";break;case"top":r+=o/2,i-=n,l="center",h="bottom";break;case"bottom":r+=o/2,i+=a+n,l="center";break;case"inside":r+=o/2,i+=s,l="center",h="middle";break;case"insideLeft":r+=n,i+=s,h="middle";break;case"insideRight":r+=o-n,i+=s,l="right",h="middle";break;case"insideTop":r+=o/2,i+=n,l="center";break;case"insideBottom":r+=o/2,i+=a-n,l="center",h="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=o-n,i+=n,l="right";break;case"insideBottomLeft":r+=n,i+=a-n,h="bottom";break;case"insideBottomRight":r+=o-n,i+=a-n,l="right",h="bottom"}return{x:r,y:i,textAlign:l,textVerticalAlign:h}},e.truncateText=I,e.getLineHeight=A,e.measureText=h,e.parsePlainText=u,e.parseRichText=c,e.makeFont=function(t){return(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ")||t.textFont||t.font}},function(t,e,n){var b=n(4),g=n(2),p=n(49),m=n(3),r=n(19).devicePixelRatio,S={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},v=[],x=[],y=[],w=[],_=Math.min,M=Math.max,T=Math.cos,k=Math.sin,C=Math.sqrt,P=Math.abs,s="undefined"!=typeof Float32Array,n=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};n.prototype={constructor:n,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=P(1/r/t)||0,this._uy=P(1/r/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(S.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=P(t-this._xi)>this._ux||P(e-this._yi)>this._uy||this._len<5;return this.addData(S.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,i,a){return this.addData(S.C,t,e,n,r,i,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,i,a):this._ctx.bezierCurveTo(t,e,n,r,i,a)),this._xi=i,this._yi=a,this},quadraticCurveTo:function(t,e,n,r){return this.addData(S.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,i,a){return this.addData(S.A,t,e,n,n,r,i-r,0,a?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,a),this._xi=T(i)*n+t,this._yi=k(i)*n+t,this},arcTo:function(t,e,n,r,i){return this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(S.R,t,e,n,r),this},closePath:function(){this.addData(S.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!s||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){for(var e=(t=!(t instanceof Array)?[t]:t).length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();s&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var a=t[i].data,o=0;o<a.length;o++)this.data[r++]=a[o];this._len=r},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,i=this._dashSum,a=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,f=C(u*u+c*c),d=l,g=h,p=o.length;for(a<0&&(a=i+a),d-=(a%=i)*(u/=f),g-=a*(c/=f);0<u&&d<=t||u<0&&t<=d||0==u&&(0<c&&g<=e||c<0&&e<=g);)d+=u*(n=o[r=this._dashIdx]),g+=c*n,this._dashIdx=(r+1)%p,0<u&&d<l||u<0&&l<d||0<c&&g<h||c<0&&h<g||s[r%2?"moveTo":"lineTo"]((0<=u?_:M)(d,t),(0<=c?_:M)(g,e));this._dashOffset=-C((u=d-t)*u+(c=g-e)*c)},_dashedBezierTo:function(t,e,n,r,i,a){var o,s,l,h,u,c=this._dashSum,f=this._dashOffset,d=this._lineDash,g=this._ctx,p=this._xi,m=this._yi,v=b.cubicAt,x=0,y=this._dashIdx,w=d.length,_=0;for(f<0&&(f=c+f),f%=c,o=0;o<1;o+=.1)s=v(p,t,n,i,o+.1)-v(p,t,n,i,o),l=v(m,e,r,a,o+.1)-v(m,e,r,a,o),x+=C(s*s+l*l);for(;y<w&&!((_+=d[y])>f);y++);for(o=(_-f)/x;o<=1;)h=v(p,t,n,i,o),u=v(m,e,r,a,o),y%2?g.moveTo(h,u):g.lineTo(h,u),o+=d[y]/x,y=(y+1)%w;y%2!=0&&g.lineTo(i,a),this._dashOffset=-C((s=i-h)*s+(l=a-u)*l)},_dashedQuadraticTo:function(t,e,n,r){var i=n,a=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,i,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,s&&(this.data=new Float32Array(t)))},getBoundingRect:function(){v[0]=v[1]=y[0]=y[1]=Number.MAX_VALUE,x[0]=x[1]=w[0]=w[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,r=0,i=0,a=0;a<t.length;){var o=t[a++];switch(1==a&&(r=e=t[a],i=n=t[a+1]),o){case S.M:r=t[a++],n=i=t[a++],y[0]=e=r,y[1]=i,w[0]=r,w[1]=i;break;case S.L:p.fromLine(e,n,t[a],t[a+1],y,w),e=t[a++],n=t[a++];break;case S.C:p.fromCubic(e,n,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],y,w),e=t[a++],n=t[a++];break;case S.Q:p.fromQuadratic(e,n,t[a++],t[a++],t[a],t[a+1],y,w),e=t[a++],n=t[a++];break;case S.A:var s=t[a++],l=t[a++],h=t[a++],u=t[a++],c=t[a++],f=t[a++]+c,d=(t[a++],1-t[a++]);1==a&&(r=T(c)*h+s,i=k(c)*u+l),p.fromArc(s,l,h,u,c,f,d,y,w),e=T(f)*h+s,n=k(f)*u+l;break;case S.R:r=e=t[a++],i=n=t[a++],u=t[a++],l=t[a++];p.fromLine(r,i,r+u,i+l,y,w);break;case S.Z:e=r,n=i}g.min(v,v,y),g.max(x,x,w)}return 0===a&&(v[0]=v[1]=x[0]=x[1]=0),new m(v[0],v[1],x[0]-v[0],x[1]-v[1])},rebuildPath:function(t){for(var e,n,r,i,a=this.data,o=this._ux,s=this._uy,l=this._len,h=0;h<l;){var u=a[h++];switch(1==h&&(e=r=a[h],n=i=a[h+1]),u){case S.M:e=r=a[h++],n=i=a[h++],t.moveTo(r,i);break;case S.L:w=a[h++],_=a[h++],(P(w-r)>o||P(_-i)>s||h===l-1)&&(t.lineTo(w,_),r=w,i=_);break;case S.C:t.bezierCurveTo(a[h++],a[h++],a[h++],a[h++],a[h++],a[h++]),r=a[h-2],i=a[h-1];break;case S.Q:t.quadraticCurveTo(a[h++],a[h++],a[h++],a[h++]),r=a[h-2],i=a[h-1];break;case S.A:var c=a[h++],f=a[h++],d=a[h++],g=a[h++],p=a[h++],m=a[h++],v=a[h++],x=a[h++],y=g<d?d:g,w=g<d?1:d/g,_=g<d?g/d:1,m=p+m;.001<Math.abs(d-g)?(t.translate(c,f),t.rotate(v),t.scale(w,_),t.arc(0,0,y,p,m,1-x),t.scale(1/w,1/_),t.rotate(-v),t.translate(-c,-f)):t.arc(c,f,y,p,m,1-x),1==h&&(e=T(p)*d+c,n=k(p)*g+f),r=T(m)*d+c,i=k(m)*g+f;break;case S.R:e=r=a[h],n=i=a[h+1],t.rect(a[h++],a[h++],a[h++],a[h++]);break;case S.Z:t.closePath(),r=e,i=n}}}},n.CMD=S,t.exports=n},function(t,e){t.exports=n},function(t,e){function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}var r="undefined"==typeof Float32Array?Array:Float32Array;e.create=function(){var t=new r(6);return n(t),t},e.identity=n,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.mul=function(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],e=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=e,t},e.translate=function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},e.rotate=function(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],s=e[3],l=e[5],e=Math.sin(n),n=Math.cos(n);return t[0]=r*n+o*e,t[1]=-r*e+o*n,t[2]=i*n+s*e,t[3]=-i*e+n*s,t[4]=n*a+e*l,t[5]=n*l-e*a,t},e.scale=function(t,e,n){var r=n[0],n=n[1];return t[0]=e[0]*r,t[1]=e[1]*n,t[2]=e[2]*r,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*n,t},e.invert=function(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5];return(e=n*o-a*r)?(t[0]=o*(e=1/e),t[1]=-a*e,t[2]=-r*e,t[3]=n*e,t[4]=(r*s-o*i)*e,t[5]=(a*i-n*s)*e,t):null}},function(t,e,n){function a(t){return Math.floor(Math.log(t)/Math.LN10)}var d=n(0),r=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;e.linearMap=function(t,e,n,r){var i=e[1]-e[0],a=n[1]-n[0];if(0==i)return 0==a?n[0]:(n[0]+n[1])/2;if(r)if(0<i){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*a+n[0]},e.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?t.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},e.round=function(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t},e.asc=function(t){return t.sort(function(t,e){return t-e}),t},e.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},e.getPrecisionSafe=function(t){var e=t.toString();if(0<(t=e.indexOf("e"))){var n=+e.slice(t+1);return n<0?-n:0}return(n=e.indexOf("."))<0?0:e.length-1-n},e.getPixelPrecision=function(t,e){var n=Math.log,r=Math.LN10,t=Math.floor(n(t[1]-t[0])/r),r=Math.round(n(Math.abs(e[1]-e[0]))/r),r=Math.min(Math.max(-t+r,0),20);return isFinite(r)?r:20},e.getPercentWithPrecision=function(t,e,n){if(!t[e])return 0;var r=d.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===r)return 0;for(var i=Math.pow(10,n),t=d.map(t,function(t){return(isNaN(t)?0:t)/r*i*100}),a=100*i,o=d.map(t,function(t){return Math.floor(t)}),s=d.reduce(o,function(t,e){return t+e},0),l=d.map(t,function(t,e){return t-o[e]});s<a;){for(var h=Number.NEGATIVE_INFINITY,u=null,c=0,f=l.length;c<f;++c)l[c]>h&&(h=l[c],u=c);++o[u],l[u]=0,++s}return o[e]/i},e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},e.isRadianAroundZero=function(t){return-1e-4<t&&t<1e-4},e.parseDate=function(t){if(t instanceof Date)return t;if("string"!=typeof t)return null==t?new Date(NaN):new Date(Math.round(t));var e=r.exec(t);if(!e)return new Date(NaN);if(e[8]){t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)},e.quantity=function(t){return Math.pow(10,a(t))},e.nice=function(t,e){var n=a(t),r=Math.pow(10,n),i=t/r;return t=(e?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,-20<=n?+t.toFixed(n<0?-n:0):t},e.reformIntervals=function(t){t.sort(function(t,e){return function t(e,n,r){return e.interval[r]<n.interval[r]||e.interval[r]===n.interval[r]&&(e.close[r]-n.close[r]==(r?-1:1)||!r&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,a=t[r].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-n),e=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!=1?t.splice(r,1):r++}return t},e.isNumeric=function(t){return 0<=t-parseFloat(t)}},function(t,e,n){function o(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function s(t){return t&&t.width&&t.height}var l=new(n(14))(50);e.findExistImage=function(t){return"string"!=typeof t?t:(t=l.get(t))&&t.image},e.createOrUpdateImage=function(t,e,n,r,i){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!n)return e;var a=l.get(t),i={hostEl:n,cb:r,cbPayload:i};return a?s(e=a.image)||a.pending.push(i):((e=!e?new Image:e).onload=o,l.put(t,e.__cachedImgObj={image:e,pending:[i]}),e.src=e.__zrImageSrc=t),e}return e},e.isImageReady=s},function(t,e,n){var s=n(0);t.exports=function(o){for(var t=0;t<o.length;t++)o[t][1]||(o[t][1]=o[t][0]);return function(t,e,n){for(var r={},i=0;i<o.length;i++){var a=o[i][1];e&&0<=s.indexOf(e,a)||n&&s.indexOf(n,a)<0||null!=(a=t.getShallow(a))&&(r[o[i][0]]=a)}return r}}},function(t,e,n){function r(t){for(var e in o.call(this,t=t||{}),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new a(t.style,this),this._rect=null,this.__clipPaths=[]}var i=n(0),a=n(40),o=n(16),n=n(48);r.prototype={constructor:r,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){e=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?o.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new a(t,this),this.dirty(!1),this}},i.inherits(r,o),i.mixin(r,n);t.exports=r},function(t,e,n){function u(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(t,e){return"{"+t+(null==e?"":e)+"}"}function l(t){return t<10?"0"+t:t}var f=n(0),r=n(5),h=n(9),i=f.normalizeCssArray,d=["a","b","c","d","e","f","g"],n=r.truncateText,r=r.getBoundingRect;e.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<t.length?"."+t[1]:"")},e.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),t=e&&t?t.charAt(0).toUpperCase()+t.slice(1):t},e.normalizeCssArray=i,e.encodeHTML=u,e.formatTpl=function(t,e,n){var r=(e=!f.isArray(e)?[e]:e).length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=d[a],s=c(o,0);t=t.replace(c(o),n?u(s):s)}for(var l=0;l<r;l++)for(var h=0;h<i.length;h++){s=e[l][i[h]];t=t.replace(c(d[h],l),n?u(s):s)}return t},e.formatTplSimple=function(n,t,r){return f.each(t,function(t,e){n=n.replace("{"+e+"}",r?u(t):t)}),n},e.getTooltipMarker=function(t,e){return t?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+u(t)+";"+(e||"")+'"></span>':""},e.formatTime=function(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=h.parseDate(e),i=r["get"+(s=n?"UTC":"")+"FullYear"](),a=r["get"+s+"Month"]()+1,o=r["get"+s+"Date"](),e=r["get"+s+"Hours"](),n=r["get"+s+"Minutes"](),s=r["get"+s+"Seconds"]();return t.replace("MM",l(a)).replace("M",a).replace("yyyy",i).replace("yy",i%100).replace("dd",l(o)).replace("d",o).replace("hh",l(e)).replace("h",e).replace("mm",l(n)).replace("m",n).replace("ss",l(s)).replace("s",s)},e.capitalFirst=function(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)},e.truncateText=n,e.getTextRect=r},function(t,e){function n(){this.head=null,this.tail=null,this._len=0}var r=n.prototype;r.insert=function(t){t=new s(t);return this.insertEntry(t),t},r.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};function i(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null}var s=function(t){this.value=t,this.next,this.prev},r=i.prototype;r.put=function(t,e){var n,r,i=this._list,a=this._map,o=null;return null==a[t]&&(r=i.len(),n=this._lastRemovedEntry,r>=this._maxSize&&0<r&&(r=i.head,i.remove(r),delete a[r.key],o=r.value,this._lastRemovedEntry=r),n?n.value=e:n=new s(e),n.key=t,i.insertEntry(n),a[t]=n),o},r.get=function(t){var e=this._map[t],t=this._list;if(null!=e)return e!==t.tail&&(t.remove(e),t.insertEntry(e)),e.value},r.clear=function(){this._list.clear(),this._map={}};t.exports=i},function(t,e){var n,r,i,a,o,s="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:(r={},i=(n=navigator.userAgent).match(/Firefox\/([\d.]+)/),a=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge\/([\d.]+)/),n=/micromessenger/i.test(n),i&&(r.firefox=!0,r.version=i[1]),a&&(r.ie=!0,r.version=a[1]),o&&(r.edge=!0,r.version=o[1]),n&&(r.weChat=!0),{browser:r,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&11<=r.version)});t.exports=s},function(t,e,n){var r=n(41),i=n(42),a=n(17),o=n(43),s=n(0),n=function(t){a.call(this,t),i.call(this,t),o.call(this,t),this.id=t.id||r()};n.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;(n=n||(this.transform=[1,0,0,1,0,0]))[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){var n;"position"===t||"scale"===t||"origin"===t?e&&((n=(n=this[t])||(this[t]=[]))[0]=e[0],n[1]=e[1]):this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(n,o),s.mixin(n,a),s.mixin(n,i);t.exports=n},function(t,e,n){function a(t){return 5e-5<t||t<-5e-5}function r(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null}var o=n(8),i=n(2),s=o.identity,n=r.prototype;n.transform=null,n.needLocalTransform=function(){return a(this.rotation)||a(this.position[0])||a(this.position[1])||a(this.scale[0]-1)||a(this.scale[1]-1)},n.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;n||e?(r=r||o.create(),n?this.getLocalTransform(r):s(r),e&&(n?o.mul(r,t.transform,r):o.copy(r,t.transform)),this.transform=r,this.invTransform=this.invTransform||o.create(),o.invert(this.invTransform,r)):r&&s(r)},n.getLocalTransform=function(t){return r.getLocalTransform(this,t)},n.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},n.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var l=[];n.decomposeTransform=function(){var t,e,n,r,i;this.transform&&(i=this.parent,t=this.transform,i&&i.transform&&(o.mul(l,i.invTransform,t),t=l),e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=this.position,i=this.scale,a(e-1)&&(e=Math.sqrt(e)),a(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),r[0]=t[4],r[1]=t[5],i[0]=e,i[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e))},n.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return[e=t[0]<0?-e:e,n=t[3]<0?-n:n]},n.transformCoordToLocal=function(t,e){t=[t,e],e=this.invTransform;return e&&i.applyTransform(t,t,e),t},n.transformCoordToGlobal=function(t,e){t=[t,e],e=this.transform;return e&&i.applyTransform(t,t,e),t},r.getLocalTransform=function(t,e){s(e=e||[]);var n=t.origin,r=t.scale||[1,1],i=t.rotation||0,t=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),o.scale(e,e,r),i&&o.rotate(e,e,i),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=t[0],e[5]+=t[1],e};t.exports=r},function(t,e,n){function s(t){return(t=Math.round(t))<0?0:255<t?255:t}function l(t){return t<0?0:1<t?1:t}function h(t){return s(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function u(t){return l(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function a(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function c(t,e,n){return t+(e-t)*n}function f(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function g(t,e){w&&d(w,e),w=y.put(t,w||e.slice())}function p(t,e){if(t){e=e||[];var n=y.get(t);if(n)return d(e,n);var r=(t+="").replace(/ /g,"").toLowerCase();if(r in x)return d(e,x[r]),g(t,e),e;if("#"===r.charAt(0))return 4===r.length?0<=(a=parseInt(r.substr(1),16))&&a<=4095?(f(e,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1),g(t,e),e):void f(e,0,0,0,1):7===r.length?0<=(a=parseInt(r.substr(1),16))&&a<=16777215?(f(e,(16711680&a)>>16,(65280&a)>>8,255&a,1),g(t,e),e):void f(e,0,0,0,1):void 0;var i=r.indexOf("("),n=r.indexOf(")");if(-1!==i&&n+1===r.length){var a=r.substr(0,i),o=r.substr(i+1,n-(i+1)).split(","),s=1;switch(a){case"rgba":if(4!==o.length)return void f(e,0,0,0,1);s=u(o.pop());case"rgb":return 3!==o.length?void f(e,0,0,0,1):(f(e,h(o[0]),h(o[1]),h(o[2]),s),g(t,e),e);case"hsla":return 4!==o.length?void f(e,0,0,0,1):(o[3]=u(o[3]),m(o,e),g(t,e),e);case"hsl":return 3!==o.length?void f(e,0,0,0,1):(m(o,e),g(t,e),e);default:return}}f(e,0,0,0,1)}}function m(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=u(t[1]),i=u(t[2]),r=i<=.5?i*(r+1):i+r-i*r,i=2*i-r;return f(e=e||[],s(255*a(i,r,n+1/3)),s(255*a(i,r,n)),s(255*a(i,r,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function r(t,e,n){if(e&&e.length&&0<=t&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),t=e[i],a=e[a],i=r-i;return n[0]=s(c(t[0],a[0],i)),n[1]=s(c(t[1],a[1],i)),n[2]=s(c(t[2],a[2],i)),n[3]=l(c(t[3],a[3],i)),n}}function i(t,e,n){if(e&&e.length&&0<=t&&t<=1){var r=t*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=p(e[i]),t=p(e[a]),e=r-i,e=v([s(c(o[0],t[0],e)),s(c(o[1],t[1],e)),s(c(o[2],t[2],e)),l(c(o[3],t[3],e))],"rgba");return n?{color:e,leftIndex:i,rightIndex:a,value:r}:e}}function v(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}var o=n(14),x={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},y=new o(20),w=null,n=r,o=i;e.parse=p,e.lift=function(t,e){var n=p(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0;return v(n,4===n.length?"rgba":"rgb")}},e.toHex=function(t){if(t=p(t))return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},e.fastLerp=r,e.fastMapToColor=n,e.lerp=i,e.mapToColor=o,e.modifyHSL=function(t,e,n,r){if(t=p(t))return t=function(t){if(t){var e,n,r,i=t[0]/255,a=t[1]/255,o=t[2]/255,s=Math.min(i,a,o),l=Math.max(i,a,o),h=l-s,u=(l+s)/2;0==h?n=e=0:(n=u<.5?h/(l+s):h/(2-l-s),r=((l-i)/6+h/2)/h,s=((l-a)/6+h/2)/h,h=((l-o)/6+h/2)/h,i===l?e=h-s:a===l?e=1/3+r-h:o===l&&(e=2/3+s-r),e<0&&(e+=1),1<e&&--e);u=[360*e,n,u];return null!=t[3]&&u.push(t[3]),u}}(t),null!=e&&(t[0]=(e=e,(e=Math.round(e))<0?0:360<e?360:e)),null!=n&&(t[1]=u(n)),null!=r&&(t[2]=u(r)),v(m(t),"rgba")},e.modifyAlpha=function(t,e){if((t=p(t))&&null!=e)return t[3]=l(e),v(t,"rgba")},e.stringify=v},function(t,e){var n=1,n=n="undefined"!=typeof window?Math.max(window.devicePixelRatio||1,1):n;e.debugMode=0,e.devicePixelRatio=n},function(t,e,n){function r(t){var e;t&&(t.font=D.makeFont(t),e=t.textAlign,t.textAlign=null==(e="middle"===e?"center":e)||s[e]?e:"left",e=t.textVerticalAlign||t.textBaseline,t.textVerticalAlign=null==(e="center"===e?"middle":e)||h[e]?e:"top",t.textPadding&&(t.textPadding=o(t.textPadding)))}function C(t,e,n,r,i){var a;n&&e.textRotation&&("center"===(a=e.textOrigin)?(r=n.width/2+n.x,i=n.height/2+n.y):a&&(r=a[0]+n.x,i=a[1]+n.y),t.translate(r,i),t.rotate(-e.textRotation),t.translate(-r,-i))}function P(t,e,n,r,i,a,o,s){var l=r.rich[n.styleName]||{},h=n.textVerticalAlign,u=a+i/2;"top"===h?u=a+n.height/2:"bottom"===h&&(u=a+i-n.height/2),!n.isLineHolder&&I(l)&&A(t,e,l,"right"===s?o-n.width:"center"===s?o-n.width/2:o,u-n.height/2,n.width,n.height);t=n.textPadding;t&&(o=b(o,s,t),u-=n.height/2-t[2]-n.textHeight/2),y(e,"shadowBlur",d(l.textShadowBlur,r.textShadowBlur,0)),y(e,"shadowColor",l.textShadowColor||r.textShadowColor||"transparent"),y(e,"shadowOffsetX",d(l.textShadowOffsetX,r.textShadowOffsetX,0)),y(e,"shadowOffsetY",d(l.textShadowOffsetY,r.textShadowOffsetY,0)),y(e,"textAlign",s),y(e,"textBaseline","middle"),y(e,"font",n.font||D.DEFAULT_FONT);t=w(l.textStroke||r.textStroke,void 0),s=_(l.textFill||r.textFill),r=f(l.textStrokeWidth,r.textStrokeWidth);t&&(y(e,"lineWidth",r),y(e,"strokeStyle",t),e.strokeText(n.text,o,u)),s&&(y(e,"fillStyle",s),e.fillText(n.text,o,u))}function I(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function A(t,e,n,r,i,a,o){var s=n.textBackgroundColor,l=n.textBorderWidth,h=n.textBorderColor,u=g(s);y(e,"shadowBlur",n.textBoxShadowBlur||0),y(e,"shadowColor",n.textBoxShadowColor||"transparent"),y(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),y(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),(u||l&&h)&&(e.beginPath(),(n=n.textBorderRadius)?m.buildPath(e,{x:r,y:i,width:a,height:o,r:n}):e.rect(r,i,a,o),e.closePath()),u?(y(e,"fillStyle",s),e.fill()):p(s)&&(u=s.image,(u=v.createOrUpdateImage(u,null,t,c,s))&&v.isImageReady(u)&&e.drawImage(u,r,i,a,o)),l&&h&&(y(e,"lineWidth",l),y(e,"strokeStyle",h),e.stroke())}function c(t,e){e.image=t}function O(t,e,n){var r,i=e.x||0,a=e.y||0,o=e.textAlign,s=e.textVerticalAlign;return n&&((r=e.textPosition)instanceof Array?(i=n.x+l(r[0],n.width),a=n.y+l(r[1],n.height)):(i=(n=D.adjustTextPositionOnRect(r,n,e.textDistance)).x,a=n.y,o=o||n.textAlign,s=s||n.textVerticalAlign),(e=e.textOffset)&&(i+=e[0],a+=e[1])),{baseX:i,baseY:a,textAlign:o,textVerticalAlign:s}}function y(t,e,n){return t[e]=n,t[e]}function w(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function _(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function l(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function b(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}var i=n(0),f=i.retrieve2,d=i.retrieve3,a=i.each,o=i.normalizeCssArray,g=i.isString,p=i.isObject,D=n(5),m=n(21),v=n(10),s={left:1,right:1,center:1},h={top:1,bottom:1,middle:1};e.normalizeTextStyle=function(t){return r(t),a(t.rich,r),t},e.renderText=function(t,e,n,r,i){var a,o,s,l,h,u;r.rich?(o=e,s=n,l=r,h=i,(u=(a=t).__textCotentBlock)&&!a.__dirty||(u=a.__textCotentBlock=D.parseRichText(s,l)),function(t,e,n,r,i){var a=n.width,o=n.outerWidth,s=n.outerHeight,l=r.textPadding,h=O(0,r,i),u=h.baseX,c=h.baseY,f=h.textAlign,h=h.textVerticalAlign;C(e,r,i,u,c);var f=D.adjustTextX(u,o,f),h=D.adjustTextY(c,s,h),d=f,g=h;l&&(d+=l[3],g+=l[0]);var p=d+a;I(r)&&A(t,e,r,f,h,o,s);for(var m=0;m<n.lines.length;m++){for(var v,x=n.lines[m],y=x.tokens,w=y.length,_=x.lineHeight,b=x.width,S=0,M=d,T=p,k=w-1;S<w&&(!(v=y[S]).textAlign||"left"===v.textAlign);)P(t,e,v,r,_,g,M,"left"),b-=v.width,M+=v.width,S++;for(;0<=k&&"right"===(v=y[k]).textAlign;)P(t,e,v,r,_,g,T,"right"),b-=v.width,T-=v.width,k--;for(M+=(a-(M-d)-(p-T)-b)/2;S<=k;)v=y[S],P(t,e,v,r,_,g,M+v.width/2,"center"),M+=v.width,S++;g+=_}}(a,o,u,l,h)):function(t,e,n,r,i){var a=y(e,"font",r.font||D.DEFAULT_FONT),o=r.textPadding,s=t.__textCotentBlock,l=(s=!s||t.__dirty?t.__textCotentBlock=D.parsePlainText(n,a,o,r.truncate):s).outerHeight,h=s.lines,u=s.lineHeight,c=O(0,r,i),f=c.baseX,d=c.baseY,s=c.textAlign,c=c.textVerticalAlign;C(e,r,i,f,d);var d=D.adjustTextY(d,l,c),g=f,p=d,c=I(r);(c||o)&&(n=D.getWidth(n,a),o&&(n+=o[1]+o[3]),a=D.adjustTextX(f,n,s),c&&A(t,e,r,a,d,n,l),o&&(g=b(f,s,o),p+=o[0]));y(e,"textAlign",s||"left"),y(e,"textBaseline","middle"),y(e,"shadowBlur",r.textShadowBlur||0),y(e,"shadowColor",r.textShadowColor||"transparent"),y(e,"shadowOffsetX",r.textShadowOffsetX||0),y(e,"shadowOffsetY",r.textShadowOffsetY||0),p+=u/2;var s=r.textStrokeWidth,m=w(r.textStroke,s),v=_(r.textFill);m&&(y(e,"lineWidth",s),y(e,"strokeStyle",m)),v&&y(e,"fillStyle",v);for(var x=0;x<h.length;x++)m&&e.strokeText(h[x],g,p),v&&e.fillText(h[x],g,p),p+=u}(t,e,n,r,i)},e.getStroke=w,e.getFill=_,e.needDrawText=function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},function(t,e){e.buildPath=function(t,e){var n,r,i,a,o,s=e.x,l=e.y,h=e.width,u=e.height,e=e.r;h<0&&(s+=h,h=-h),u<0&&(l+=u,u=-u),"number"==typeof e?n=r=i=a=e:e instanceof Array?1===e.length?n=r=i=a=e[0]:2===e.length?(n=i=e[0],r=a=e[1]):3===e.length?(n=e[0],r=a=e[1],i=e[2]):(n=e[0],r=e[1],i=e[2],a=e[3]):n=r=i=a=0,h<n+r&&(n*=h/(o=n+r),r*=h/o),h<i+a&&(i*=h/(o=i+a),a*=h/o),u<r+i&&(r*=u/(o=r+i),i*=u/o),u<n+a&&(n*=u/(o=n+a),a*=u/o),t.moveTo(s+n,l),t.lineTo(s+h-r,l),0!==r&&t.quadraticCurveTo(s+h,l,s+h,l+r),t.lineTo(s+h,l+u-i),0!==i&&t.quadraticCurveTo(s+h,l+u,s+h-i,l+u),t.lineTo(s+a,l+u),0!==a&&t.quadraticCurveTo(s,l+u,s,l+u-a),t.lineTo(s,l+n),0!==n&&t.quadraticCurveTo(s,l,s+n,l)}},function(t,e){var n=2*Math.PI;e.normalizeRadian=function(t){return(t%=n)<0&&(t+=n),t}},function(t,e,n){var f=n(66),d=n(67);e.buildPath=function(t,e,n){var r=e.points,i=e.smooth;if(r&&2<=r.length){if(i&&"spline"!==i){var a=d(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(n?o:o-1);s++){var l=a[2*s],h=a[2*s+1],u=r[(s+1)%o];t.bezierCurveTo(l[0],l[1],h[0],h[1],u[0],u[1])}}else{"spline"===i&&(r=f(r,n)),t.moveTo(r[0][0],r[0][1]);for(var s=1,c=r.length;s<c;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}},function(t,e){function n(t){this.colorStops=t||[]}n.prototype={constructor:n,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};t.exports=n},function(t,e,n){t.exports=n(26)},function(t,e,n){var d=n(7),g=n(27);n(28),n(77);var p=n(78);if(!p.isSupported)throw new Error("Sorry your browser not support wordCloud");d.registerLayout(function(c,f){c.eachSeriesByType("wordCloud",function(n){function t(t){var e=t.detail.item;t.detail.drawn&&n.layoutInstance.ondraw&&(t.detail.drawn.gx+=r.x/u,t.detail.drawn.gy+=r.y/u,n.layoutInstance.ondraw(e[0],e[1],e[2],t.detail.drawn))}var r=g.getLayoutRect(n.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()}),i=n.getData(),e=document.createElement("canvas");e.width=r.width,e.height=r.height;var a=e.getContext("2d"),o=n.get("maskImage");if(o)try{a.drawImage(o,0,0,e.width,e.height),function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=e.createImageData(n),i=0,a=0,o=0;o<n.data.length;o+=4)128<n.data[o+3]&&(i+=l=n.data[o]+n.data[o+1]+n.data[o+2],++a);for(var s=i/a,o=0;o<n.data.length;o+=4){var l=n.data[o]+n.data[o+1]+n.data[o+2];n.data[o+3]<128||s<l?(r.data[o]=0,r.data[o+1]=0,r.data[o+2]=0,r.data[o+3]=0):(r.data[o]=255,r.data[o+1]=255,r.data[o+2]=255,r.data[o+3]=255)}e.putImageData(r,0,0)}(e)}catch(t){console.error("Invalid mask image"),console.error(t.toString())}var s=n.get("sizeRange"),l=n.get("rotationRange"),h=i.getDataExtent("value"),a=Math.PI/180,u=n.get("gridSize");p(e,{list:i.mapArray("value",function(t,e){var n=i.getItemModel(e);return[i.getName(e),n.get("textStyle.normal.textSize",!0)||d.number.linearMap(t,h,s),e]}).sort(function(t,e){return e[1]-t[1]}),fontFamily:n.get("textStyle.normal.fontFamily")||n.get("textStyle.emphasis.fontFamily")||c.get("textStyle.fontFamily"),fontWeight:n.get("textStyle.normal.fontWeight")||n.get("textStyle.emphasis.fontWeight")||c.get("textStyle.fontWeight"),gridSize:u,ellipticity:r.height/r.width,minRotation:l[0]*a,maxRotation:l[1]*a,clearCanvas:!o,rotateRatio:1,rotationStep:n.get("rotationStep")*a,drawOutOfBound:n.get("drawOutOfBound"),shuffle:!1,shape:n.get("shape")}),e.addEventListener("wordclouddrawn",t),n.layoutInstance&&n.layoutInstance.dispose(),n.layoutInstance={ondraw:null,dispose:function(){e.removeEventListener("wordclouddrawn",t),e.addEventListener("wordclouddrawn",function(t){t.preventDefault()})}}})}),d.registerPreprocessor(function(t){function e(e){e&&d.util.each(n,function(t){e.hasOwnProperty(t)&&(e["text"+d.format.capitalFirst(t)]=e[t])})}t=(t||{}).series;d.util.isArray(t)||(t=t?[t]:[]);var n=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];d.util.each(t,function(t){t&&"wordCloud"===t.type&&(e((t=t.textStyle||{}).normal),e(t.emphasis))})})},function(t,e,n){function r(s,l,h,u,c){var f=0,d=0;null==u&&(u=1/0),null==c&&(c=1/0);var g=0;l.eachChild(function(t,e){var n,r,i=t.position,a=t.getBoundingRect(),o=l.childAt(e+1),e=o&&o.getBoundingRect();g="horizontal"===s?(o=a.width+(e?-e.x+a.x:0),u<(n=f+o)||t.newline?(f=0,n=o,d+=g+h,a.height):Math.max(g,a.height)):(e=a.height+(e?-e.y+a.y:0),c<(r=d+e)||t.newline?(f+=g+h,d=0,r=e,a.width):Math.max(g,a.width)),t.newline||(i[0]=f,i[1]=d,"horizontal"===s?f=n+h:d=r+h)})}function h(t,e,n){n=m.normalizeCssArray(n||0);var r=e.width,i=e.height,a=p(t.left,r),o=p(t.top,i),s=p(t.right,r),l=p(t.bottom,i),h=p(t.width,r),u=p(t.height,i),c=n[2]+n[0],f=n[1]+n[3],e=t.aspect;switch(isNaN(h)&&(h=r-s-f-a),isNaN(u)&&(u=i-l-c-o),null!=e&&(isNaN(h)&&isNaN(u)&&(r/i<e?h=.8*r:u=.8*i),isNaN(h)&&(h=e*u),isNaN(u)&&(u=h/e)),isNaN(a)&&(a=r-s-h-f),isNaN(o)&&(o=i-l-u-c),t.left||t.right){case"center":a=r/2-h/2-n[3];break;case"right":a=r-h-f}switch(t.top||t.bottom){case"middle":case"center":o=i/2-u/2-n[0];break;case"bottom":o=i-u-c}a=a||0,o=o||0,isNaN(h)&&(h=r-f-a-(s||0)),isNaN(u)&&(u=i-c-o-(l||0));l=new g(a+n[3],o+n[0],h,u);return l.margin=n,l}function i(e,n){return n&&e&&v(a,function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var d=n(0),g=n(3),p=n(9).parsePercent,m=n(13),v=d.each,a=["left","right","top","bottom","width","height"],o=[["width","left","right"],["height","top","bottom"]],s=r,l=d.curry(r,"vertical"),n=d.curry(r,"horizontal");e.LOCATION_PARAMS=a,e.HV_NAMES=o,e.box=s,e.vbox=l,e.hbox=n,e.getAvailableSize=function(t,e,n){var r=e.width,i=e.height,a=p(t.x,r),o=p(t.y,i),s=p(t.x2,r),e=p(t.y2,i);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=r),(isNaN(o)||isNaN(parseFloat(t.y)))&&(o=0),(isNaN(e)||isNaN(parseFloat(t.y2)))&&(e=i),n=m.normalizeCssArray(n||0),{width:Math.max(s-a-n[1]-n[3],0),height:Math.max(e-o-n[0]-n[2],0)}},e.getLayoutRect=h,e.positionElement=function(t,e,n,r,i){var a,o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";(o||s)&&("raw"===l?a="group"===t.type?new g(0,0,+e.width||0,+e.height||0):t.getBoundingRect():(a=t.getBoundingRect(),t.needLocalTransform()&&(i=t.getLocalTransform(),(a=a.clone()).applyTransform(i))),e=h(d.defaults({width:a.width,height:a.height},e),n,r),r=t.position,o=o?e.x-a.x:0,a=s?e.y-a.y:0,t.attr("position","raw"===l?[o,a]:[r[0]+o,r[1]+a]))},e.sizeCalculable=function(t,e){return null!=t[o[e][0]]||null!=t[o[e][1]]&&null!=t[o[e][2]]},e.mergeLayoutParam=function(l,h,t){function e(t,e){var n={},r=0,i={},a=0;if(v(t,function(t){i[t]=l[t]}),v(t,function(t){u(h,t)&&(n[t]=i[t]=h[t]),c(n,t)&&r++,c(i,t)&&a++}),f[e])return c(h,t[1])?i[t[2]]=null:c(h,t[2])&&(i[t[1]]=null),i;if(2!==a&&r){if(2<=r)return n;for(var o=0;o<t.length;o++){var s=t[o];if(!u(n,s)&&u(l,s)){n[s]=l[s];break}}return n}return i}function u(t,e){return t.hasOwnProperty(e)}function c(t,e){return null!=t[e]&&"auto"!==t[e]}function n(t,e,n){v(t,function(t){e[t]=n[t]})}var f=(t=!d.isObject(t)?{}:t).ignoreSize;d.isArray(f)||(f=[f,f]);var r=e(o[0],0),t=e(o[1],1);n(o[0],l,r),n(o[1],l,t)},e.getLayoutParams=function(t){return i({},t)},e.copyLayoutParams=i},function(t,e,n){var r=n(29),i=n(7);i.extendSeriesModel({type:"series.wordCloud",visualColorAccessPath:"textStyle.normal.color",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,e){var n=r(["value"],t.data),n=new i.List(n,this);return n.initData(t.data),n},defaultOption:{maskImage:null,shape:"circle",left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,textStyle:{normal:{fontWeight:"normal"}}}})},function(t,e,n){function r(t,e,n){function s(t,e,n){T[e]?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,h.set(e,!0))}function r(t,e,n){if(n||null!=e.get(t)){for(var r=0;null!=e.get(t+r);)r++;t+=r}return e.set(t,!0),t}e=e||[],n=n||{},t=(t||[]).slice();var i,a=(n.dimsDef||[]).slice(),l=w.createHashMap(n.encodeDef),o=w.createHashMap(),h=w.createHashMap(),u=[],c=n.dimCount;null==c&&(i=y(e[0]),c=Math.max(w.isArray(i)&&i.length||1,t.length,a.length),b(t,function(t){t=t.dimsDef;t&&(c=Math.max(c,t.length))}));for(var f=0;f<c;f++){var d=S(a[f])?{name:a[f]}:a[f]||{},g=d.name,p=u[f]={otherDims:{}};null!=g&&null==o.get(g)&&(p.name=p.tooltipName=g,o.set(g,f)),null!=d.type&&(p.type=d.type)}l.each(function(n,r){n=l.set(r,_(n).slice()),b(n,function(t,e){null!=(t=S(t)?o.get(t):t)&&t<c&&(n[e]=t,s(u[t],r,e))})});var m=0;b(t,function(n,t){var r,i,a;S(n)?(r=n,n={}):(r=n.name,n=w.clone(n),i=n.dimsDef,a=n.otherDims,n.name=n.coordDim=n.coordDimIndex=n.dimsDef=n.otherDims=null);var e=_(l.get(r));if(!e.length)for(var o=0;o<(i&&i.length||1);o++){for(;m<u.length&&null!=u[m].coordDim;)m++;m<u.length&&e.push(m++)}b(e,function(t,e){t=u[t];s(M(t,n),r,e),null==t.name&&i&&(t.name=t.tooltipName=i[e]),a&&M(t.otherDims,a)})});for(var v=n.extraPrefix||"value",x=0;x<c;x++)null==(p=u[x]=u[x]||{}).coordDim&&(p.coordDim=r(v,h,n.extraFromZero),p.coordDimIndex=0,p.isExtraCoord=!0),null==p.name&&(p.name=r(p.coordDim,o)),null==p.type&&k(e,x)&&(p.type="ordinal");return u}function y(t){return!w.isArray(t)&&w.isObject(t)?t.value:t}var w=n(0),_=n(30).normalizeToArray,b=w.each,S=w.isString,M=w.defaults,T={tooltip:1,label:1,itemName:1},k=r.guessOrdinal=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=y(t[n]);if(!w.isArray(i))return!1;if(null!=(i=i[e])&&isFinite(i)&&""!==i)return!1;if(S(i)&&"-"!==i)return!0}return!1};t.exports=r},function(t,e,n){function c(t){return t instanceof Array?t:null==t?[]:[t]}function o(t){return f(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function r(t,e){return t&&t.hasOwnProperty(e)}var i,h=n(0),s=n(13),a=n(9),l=n(31),u=h.each,f=h.isObject,d={getDataParams:function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),i=n.getRawIndex(t),a=n.getName(t,!0),o=n.getRawDataItem(t),t=n.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:a,dataIndex:i,data:o,dataType:e,value:r,color:t,marker:s.getTooltipMarker(t),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,r,i){e=e||"normal";var a=this.getData(n).getItemModel(t),n=this.getDataParams(t,n);null!=r&&n.value instanceof Array&&(n.value=n.value[r]);i=a.get([i||"label",e,"formatter"]);return"function"==typeof i?(n.status=e,i(n)):"string"==typeof i?s.formatTpl(i,n):void 0},getRawValue:function(t,e){t=this.getData(e).getRawDataItem(t);if(null!=t)return!f(t)||t instanceof Array?t:t.value},formatTooltip:h.noop},n=(i=0,function(){var e="\0__ec_prop_getter_"+i++;return function(t){return t[e]||(t[e]={})}});e.normalizeToArray=c,e.defaultEmphasis=function(t,e){if(t)for(var n=t.emphasis=t.emphasis||{},r=t.normal=t.normal||{},i=0,a=e.length;i<a;i++){var o=e[i];!n.hasOwnProperty(o)&&r.hasOwnProperty(o)&&(n[o]=r[o])}},e.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],e.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},e.isDataItemOption=function(t){return f(t)&&!(t instanceof Array)},e.converDataValue=function(t,e){return"ordinal"===(e=e&&e.type)?t:null==(t="time"===e&&"number"!=typeof t&&null!=t&&"-"!==t?+a.parseDate(t):t)||""===t?NaN:+t},e.createDataFormatModel=function(t,e){var n=new l;return h.mixin(n,d),n.seriesIndex=e.seriesIndex,n.name=e.name||"",n.mainType=e.mainType,n.subType=e.subType,n.getData=function(){return t},n},e.dataFormatMixin=d,e.mappingToExists=function(t,i){i=(i||[]).slice();var a=h.map(t||[],function(t,e){return{exist:t}});return u(i,function(t,e){if(f(t)){for(var n=0;n<a.length;n++)if(!a[n].option&&null!=t.id&&a[n].exist.id===t.id+"")return a[n].option=t,void(i[e]=null);for(n=0;n<a.length;n++){var r=a[n].exist;if(!(a[n].option||null!=r.id&&null!=t.id||null==t.name||o(t)||o(r)||r.name!==t.name+""))return a[n].option=t,void(i[e]=null)}}}),u(i,function(t,e){if(f(t)){for(var n=0;n<a.length;n++){var r=a[n].exist;if(!a[n].option&&!o(r)&&null==t.id){a[n].option=t;break}}n>=a.length&&a.push({option:t})}}),a},e.makeIdAndName=function(t){var o=h.createHashMap();u(t,function(t,e){var n=t.exist;n&&o.set(n.id,t)}),u(t,function(t,e){var n=t.option;h.assert(!n||null==n.id||!o.get(n.id)||o.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&o.set(n.id,t),t.keyInfo||(t.keyInfo={})}),u(t,function(t,e){var n=t.exist,r=t.option,i=t.keyInfo;if(f(r)){if(i.name=null!=r.name?r.name+"":n?n.name:"\0-",n)i.id=n.id;else if(null!=r.id)i.id=r.id+"";else for(var a=0;i.id="\0"+i.name+"\0"+a++,o.get(i.id););o.set(i.id,t)}})},e.isIdInner=o,e.compressBatches=function(t,e){function n(t,e,n){for(var r=0,i=t.length;r<i;r++)for(var a=t[r].seriesId,o=c(t[r].dataIndex),s=n&&n[a],l=0,h=o.length;l<h;l++){var u=o[l];s&&s[u]?s[u]=null:(e[a]||(e[a]={}))[u]=1}}function a(t,e){var n,r,i=[];for(n in t)t.hasOwnProperty(n)&&null!=t[n]&&(e?i.push(+n):(r=a(t[n],!0)).length&&i.push({seriesId:n,dataIndex:r}));return i}var r={},i={};return n(t||[],r),n(e||[],i,r),[a(r),a(i)]},e.queryDataIndex=function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?h.isArray(t.dataIndex)?h.map(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?h.isArray(t.name)?h.map(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0},e.makeGetter=n,e.parseFinder=function(a,o,s){h.isString(o)&&((t={})[o+"Index"]=0,o=t);var t=s&&s.defaultMainType;!t||r(o,t+"Index")||r(o,t+"Id")||r(o,t+"Name")||(o[t+"Index"]=0);var l={};return u(o,function(t,e){var n,r,i,t=o[e];"dataIndex"!==e&&"dataIndexInside"!==e?(n=(i=e.match(/^(\w+)(Index|Id|Name)$/)||[])[1],r=(i[2]||"").toLowerCase(),!n||!r||null==t||"index"===r&&"none"===t||s&&s.includeMainTypes&&h.indexOf(s.includeMainTypes,n)<0||(i={mainType:n},"index"===r&&"all"===t||(i[r]=t),i=a.queryComponents(i),l[n+"Models"]=i,l[n+"Model"]=i[0])):l[e]=t}),l},e.dataDimToCoordDim=function(t,e){var n=t.dimensions;e=t.getDimension(e);for(var r=0;r<n.length;r++){var i=t.getDimensionInfo(n[r]);if(i.name===e)return i.coordDim}},e.coordDimToDataDim=function(e,n){var r=[];return u(e.dimensions,function(t){t=e.getDimensionInfo(t);t.coordDim===n&&(r[t.coordDimIndex]=t.name)}),r},e.otherDimToDataDim=function(n,r){var i=[];return u(n.dimensions,function(t){var e=n.getDimensionInfo(t),t=e.otherDims[r];null!=t&&!1!==t&&(i[t]=e.name)}),i}},function(t,e,n){function r(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function i(t,e,n){for(var r=0;r<e.length&&(!e[r]||null!=(t=t&&"object"==typeof t?t[e[r]]:null));r++);return t=null==t&&n?n.get(e):t}function a(t,e){var n=l.get(t,"getParent");return n?n.call(t,e):t.parentModel}var o=n(0),s=n(15),l=n(32),h=n(35),u=n(36),c=n(37),f=n(76),n=o.mixin;r.prototype={constructor:r,init:null,mergeOption:function(t){o.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:i(this.option,this.parsePath(t),!e&&a(this,t))},getShallow:function(t,e){var n=this.option,n=null==n?n:n[t],e=!e&&a(this,t);return n=null==n&&e?e.getShallow(t):n},getModel:function(t,e){var n;return new r(null==t?this.option:i(this.option,t=this.parsePath(t)),e=e||(n=a(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(o.clone(this.option))},setReadOnly:function(t){l.setReadOnly(this,t)},parsePath:function(t){return t="string"==typeof t?t.split("."):t},customizeGetParent:function(t){l.set(this,"getParent",t)},isAnimationEnabled:function(){if(!s.node)return null!=this.option.animation?!!this.option.animation:this.parentModel?this.parentModel.isAnimationEnabled():void 0}},l.enableClassExtend(r),n(r,h),n(r,u),n(r,c),n(r,f);t.exports=r},function(t,e,n){function a(t){var e={main:"",sub:""};return t&&(t=t.split(s),e.main=t[0]||"",e.sub=t[1]||""),e}function r(t,e){var n=o.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function i(t,e,n){return this.superClass.prototype[e].apply(t,n)}var o=(n(33).__DEV__,n(0)),s=".",l="___EC__COMPONENT__CONTAINER___",h="\0ec_\0";e.set=function(t,e,n){return t[h+e]=n},e.get=function(t,e){return t[h+e]},e.hasOwn=function(t,e){return t.hasOwnProperty(h+e)},e.parseClassType=a,e.enableClassExtend=function(t,e){(t.$constructor=t).extend=function(t){function e(){(t.$constructor||n).apply(this,arguments)}var n=this;return o.extend(e.prototype,t),e.extend=this.extend,e.superCall=r,e.superApply=i,o.inherits(e,this),e.superClass=n,e}},e.enableClassManagement=function(n,t){t=t||{};var r,i={};return n.registerClass=function(t,e){var n,r;return e&&(r=e,o.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal'),(e=a(e)).sub?e.sub!==l&&(((r=i[(n=e).main])&&r[l]||((r=i[n.main]={})[l]=!0),r)[e.sub]=t):i[e.main]=t),t},n.getClass=function(t,e,n){var r=i[t];if(r&&r[l]&&(r=e?r[e]:null),n&&!r)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return r},n.getClassesByMainType=function(t){t=a(t);var n=[],t=i[t.main];return t&&t[l]?o.each(t,function(t,e){e!==l&&n.push(t)}):n.push(t),n},n.hasClass=function(t){return t=a(t),!!i[t.main]},n.getAllClassMainTypes=function(){var n=[];return o.each(i,function(t,e){n.push(e)}),n},n.hasSubTypes=function(t){t=a(t);t=i[t.main];return t&&t[l]},n.parseClassType=a,t.registerWhenExtend&&(r=n.extend)&&(n.extend=function(t){var e=r.call(this,t);return n.registerClass(e,t.type)}),n},e.setReadOnly=function(t,e){}},function(t,n,e){!function(t){var e;"undefined"!=typeof window?e=window.__DEV__:void 0!==t&&(e=t.__DEV__),n.__DEV__=e=void 0===e?!0:e}.call(n,e(34))},function(t,e){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(11)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getLineStyle:function(t){var e=r(this,t),t=this.getLineDash(e.lineWidth);return t&&(e.lineDash=t),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),t=4*t;return"solid"===e||null==e?null:"dashed"===e?[t,t]:[n,n]}}},function(t,e,n){var r=n(11)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);t.exports={getAreaStyle:function(t,e){return r(this,t,e)}}},function(t,e,n){var r=n(5),i=n(38),a=["textStyle","color"];t.exports={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(a):null)},getFont:function(){return i.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return r.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}}},function(t,e,n){function i(t,e,n,r){t=P.createFromString(t,e),e=t.getBoundingRect();return n&&o(t,n="center"===r?a(n,e):n),t}function a(t,e){var n=e.width/e.height,e=t.height*n,n=e<=t.width?t.height:(e=t.width)/n;return{x:t.x+t.width/2-e/2,y:t.y+t.height/2-n/2,width:e,height:n}}function o(t,e){t.applyTransform&&(e=t.getBoundingRect().calculateTransform(e),t.applyTransform(e))}function s(t,e,n){t=B(2*t);return(t+B(e))%2==0?t/2:(t+(n?1:-1))/2}function l(t){return null!=t&&"none"!=t}function h(t){return"string"==typeof t?I.lift(t,-.1):t}function u(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,r=t.__hoverStl;r.fill=r.fill||(l(n)?h(n):null),r.stroke=r.stroke||(l(e)?h(e):null);var i,a={};for(i in r)null!=r[i]&&(a[i]=t.style[i]);t.__normalStl=a,t.__hoverStlDirty=!1}}function r(t){var e,n,r,i;t.__isHover||(u(t),t.useHoverLayer?t.__zr&&t.__zr.addHover(t,t.__hoverStl):(!(n=(e=t.style).insideRollbackOpt)||(i=(r=e).insideRollback)&&(r.textFill=i.textFill,r.textStroke=i.textStroke,r.textStrokeWidth=i.textStrokeWidth),e.extendFrom(t.__hoverStl),n&&(S(e,e.insideOriginalTextPosition,n),null==e.textFill&&(e.textFill=n.autoColor)),t.dirty(!1),t.z2+=1),t.__isHover=!0)}function c(t){var e;t.__isHover&&(e=t.__normalStl,t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),--t.z2),t.__isHover=!1)}function f(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&r(t)}):r(t)}function d(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&c(t)}):c(t)}function g(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&u(t)}function p(t){this.__hoverSilentOnTouch&&t.zrByTouch||this.__isEmphasis||f(this)}function m(t){this.__hoverSilentOnTouch&&t.zrByTouch||this.__isEmphasis||d(this)}function v(){this.__isEmphasis=!0,f(this)}function x(){this.__isEmphasis=!1,d(this)}function y(t,e,n,r,i){return w(t,e,r,i),n&&C.extend(t,n),t.host&&t.host.dirty&&t.host.dirty(!1),t}function w(t,e,n,r){(n=n||E).isRectText&&(o=e.getShallow("position")||(r?null:"inside"),t.textPosition=o="outside"===o?"top":o,t.textOffset=e.getShallow("offset"),null!=(o=e.getShallow("rotate"))&&(o*=Math.PI/180),t.textRotation=o,t.textDistance=C.retrieve2(e.getShallow("distance"),r?null:5));var i,a,o=e.ecModel,s=o&&o.option.textStyle,l=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||E).rich;if(n)for(var r in e=e||{},n)n.hasOwnProperty(r)&&(e[r]=1);t=t.parentModel}return e}(e);if(l)for(var h in i={},l)l.hasOwnProperty(h)&&(a=e.getModel(["rich",h]),_(i[h]={},a,s,n,r));return t.rich=i,_(t,e,s,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function _(t,e,n,r,i,a){n=!i&&n||E,t.textFill=b(e.getShallow("color"),r)||n.color,t.textStroke=b(e.getShallow("textBorderColor"),r)||n.textBorderColor,t.textStrokeWidth=C.retrieve2(e.getShallow("textBorderWidth"),n.textBorderWidth),i||(a&&(i=t.textPosition,t.insideRollback=S(t,i,r),t.insideOriginalTextPosition=i,t.insideRollbackOpt=r),null==t.textFill&&(t.textFill=r.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),a&&r.disableBox||(t.textBackgroundColor=b(e.getShallow("backgroundColor"),r),t.textPadding=e.getShallow("padding"),t.textBorderColor=b(e.getShallow("borderColor"),r),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function b(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function S(t,e,n){var r,i=n.useInsideStyle;return null==t.textFill&&!1!==i&&(!0===i||n.isRectText&&e&&"string"==typeof e&&0<=e.indexOf("inside"))&&(r={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=n.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),r}function M(t,e,n,r,i,a){var o,s;"function"==typeof i&&(a=i,i=null),r&&r.isAnimationEnabled()?(o=r.getShallow("animationDuration"+(s=t?"Update":"")),t=r.getShallow("animationEasing"+s),"function"==typeof(s=r.getShallow("animationDelay"+s))&&(s=s(i,r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null)),0<(o="function"==typeof o?o(i):o)?e.animateTo(n,o,s||0,t,a,!!a):(e.stopAnimation(),e.attr(n),a&&a())):(e.stopAnimation(),e.attr(n),a&&a())}function T(t,e,n,r,i){M(!0,t,e,n,r,i)}function k(t,e,n){return e&&!C.isArrayLike(e)&&(e=L.getLocalTransform(e)),n&&(e=A.invert([],e)),O.applyTransform([],t,e)}var C=n(0),P=n(39),I=n(18),A=n(8),O=n(2),D=n(1),L=n(17),F=n(58);e.Image=F;var R=n(59);e.Group=R;R=n(60);e.Text=R;R=n(61);e.Circle=R;R=n(62);e.Sector=R;R=n(64);e.Ring=R;R=n(65);e.Polygon=R;R=n(68);e.Polyline=R;R=n(69);e.Rect=R;R=n(70);e.Line=R;R=n(71);e.BezierCurve=R;R=n(72);e.Arc=R;R=n(73);e.CompoundPath=R;R=n(74);e.LinearGradient=R;R=n(75);e.RadialGradient=R;n=n(3);e.BoundingRect=n;var B=Math.round,z=Math.max,N=Math.min,E={},n=P.mergePath;e.extendShape=function(t){return D.extend(t)},e.extendPath=function(t,e){return P.extendFromString(t,e)},e.makePath=i,e.makeImage=function(t,e,n){var r=new F({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){"center"===n&&(t={width:t.width,height:t.height},r.setStyle(a(e,t)))}});return r},e.mergePath=n,e.resizePath=o,e.subPixelOptimizeLine=function(t){var e=t.shape,n=t.style.lineWidth;return B(2*e.x1)===B(2*e.x2)&&(e.x1=e.x2=s(e.x1,n,!0)),B(2*e.y1)===B(2*e.y2)&&(e.y1=e.y2=s(e.y1,n,!0)),t},e.subPixelOptimizeRect=function(t){var e=t.shape,n=t.style.lineWidth,r=e.x,i=e.y,a=e.width,o=e.height;return e.x=s(e.x,n,!0),e.y=s(e.y,n,!0),e.width=Math.max(s(r+a,n,!1)-e.x,0===a?0:1),e.height=Math.max(s(i+o,n,!1)-e.y,0===o?0:1),t},e.subPixelOptimize=s,e.setHoverStyle=function(t,e,n){t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&g(t,e)}):g(t,e),t.on("mouseover",p).on("mouseout",m),t.on("emphasis",v).on("normal",x)},e.setLabelStyle=function(t,e,n,r,i,a,o){var s=(i=i||E).labelFetcher,l=i.labelDataIndex,h=i.labelDimIndex,u=n.getShallow("show"),c=r.getShallow("show"),f=u||c?C.retrieve2(s?s.getFormattedLabel(l,"normal",null,h):null,i.defaultText):null,u=u?f:null,f=c?C.retrieve2(s?s.getFormattedLabel(l,"emphasis",null,h):null,f):null;null==u&&null==f||(y(t,n,a,i),y(e,r,o,i,!0)),t.text=u,e.text=f},e.setTextStyle=y,e.setText=function(t,e,n){var r,i={isRectText:!0};!1===n?r=!0:i.autoColor=n,w(t,e,i,r),t.host&&t.host.dirty&&t.host.dirty(!1)},e.getFont=function(t,e){return e=e||e.getModel("textStyle"),[t.fontStyle||e&&e.getShallow("fontStyle")||"",t.fontWeight||e&&e.getShallow("fontWeight")||"",(t.fontSize||e&&e.getShallow("fontSize")||12)+"px",t.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" ")},e.updateProps=T,e.initProps=function(t,e,n,r,i){M(!1,t,e,n,r,i)},e.getTransform=function(t,e){for(var n=A.identity([]);t&&t!==e;)A.mul(n,t.getLocalTransform(),n),t=t.parent;return n},e.applyTransform=k,e.transformDirection=function(t,e,n){var r=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),i=k(i=["left"===t?-r:"right"===t?r:0,"top"===t?-i:"bottom"===t?i:0],e,n);return Math.abs(i[0])>Math.abs(i[1])?0<i[0]?"right":"left":0<i[1]?"bottom":"top"},e.groupTransition=function(t,e,r,n){function i(t){var e={position:O.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=C.extend({},t.shape)),e}var a,o;t&&e&&(o={},t.traverse(function(t){!t.isGroup&&t.anid&&(o[t.anid]=t)}),a=o,e.traverse(function(t){var e,n;t.isGroup||!t.anid||(e=a[t.anid])&&(n=i(t),t.attr(i(e)),T(t,n,r,t.dataIndex))}))},e.clipPointsByRect=function(t,n){return C.map(t,function(t){var e=t[0],e=z(e,n.x);e=N(e,n.x+n.width);t=t[1],t=z(t,n.y);return[e,t=N(t,n.y+n.height)]})},e.clipRectByRect=function(t,e){var n=z(t.x,e.x),r=N(t.x+t.width,e.x+e.width),i=z(t.y,e.y),e=N(t.y+t.height,e.y+e.height);if(n<=r&&i<=e)return{x:n,y:i,width:r-n,height:e-i}},e.createIcon=function(t,e,n){var r=(e=C.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),C.defaults(r,n),new F(e)):i(t.replace("path://",""),e,n,"center")}},function(t,e,n){function k(t,e,n,r,i,a,o,s,l,h,u){var c=l*(v/180),f=m(c)*(t-n)/2+p(c)*(e-r)/2,d=-1*p(c)*(t-n)/2+m(c)*(e-r)/2,l=f*f/(o*o)+d*d/(s*s);1<l&&(o*=g(l),s*=g(l));l=(i===a?-1:1)*g((o*o*(s*s)-o*o*(d*d)-s*s*(f*f))/(o*o*(d*d)+s*s*(f*f)))||0,i=l*o*d/s,l=l*-s*f/o,t=(t+n)/2+m(c)*i-p(c)*l,n=(e+r)/2+p(c)*i+m(c)*l,e=y([1,0],[(f-i)/o,(d-l)/s]),r=[(f-i)/o,(d-l)/s],d=[(-1*f-i)/o,(-1*d-l)/s],l=y(r,d);x(r,d)<=-1&&(l=v),1<=x(r,d)&&(l=0),0===a&&0<l&&(l-=2*v),1===a&&l<0&&(l+=2*v),u.addData(h,t,n,o,s,e,l,c,a)}function r(t,e){var n=function(t){if(!t)return[];for(var e=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),n=0;n<P.length;n++)e=e.replace(new RegExp(P[n],"g"),"|"+P[n]);var r,i=e.split("|"),a=0,o=0,s=new C,l=C.CMD;for(n=1;n<i.length;n++){var h,u=i[n],c=u.charAt(0),f=0,d=u.slice(1).replace(/e,-/g,"e-").split(",");0<d.length&&""===d[0]&&d.shift();for(var g=0;g<d.length;g++)d[g]=parseFloat(d[g]);for(;f<d.length&&!isNaN(d[f])&&!isNaN(d[0]);){var p,m,v,x,y,w=a,_=o;switch(c){case"l":a+=d[f++],o+=d[f++],h=l.L,s.addData(h,a,o);break;case"L":a=d[f++],o=d[f++],h=l.L,s.addData(h,a,o);break;case"m":a+=d[f++],o+=d[f++],h=l.M,s.addData(h,a,o),c="l";break;case"M":a=d[f++],o=d[f++],h=l.M,s.addData(h,a,o),c="L";break;case"h":a+=d[f++],h=l.L,s.addData(h,a,o);break;case"H":a=d[f++],h=l.L,s.addData(h,a,o);break;case"v":o+=d[f++],h=l.L,s.addData(h,a,o);break;case"V":o=d[f++],h=l.L,s.addData(h,a,o);break;case"C":h=l.C,s.addData(h,d[f++],d[f++],d[f++],d[f++],d[f++],d[f++]),a=d[f-2],o=d[f-1];break;case"c":h=l.C,s.addData(h,d[f++]+a,d[f++]+o,d[f++]+a,d[f++]+o,d[f++]+a,d[f++]+o),a+=d[f-2],o+=d[f-1];break;case"S":var b=a,S=o,M=s.len(),T=s.data;r===l.C&&(b+=a-T[M-4],S+=o-T[M-3]),h=l.C,w=d[f++],_=d[f++],a=d[f++],o=d[f++],s.addData(h,b,S,w,_,a,o);break;case"s":b=a,S=o;M=s.len(),T=s.data;r===l.C&&(b+=a-T[M-4],S+=o-T[M-3]),h=l.C,w=a+d[f++],_=o+d[f++],a+=d[f++],o+=d[f++],s.addData(h,b,S,w,_,a,o);break;case"Q":w=d[f++],_=d[f++],a=d[f++],o=d[f++],h=l.Q,s.addData(h,w,_,a,o);break;case"q":w=d[f++]+a,_=d[f++]+o,a+=d[f++],o+=d[f++],h=l.Q,s.addData(h,w,_,a,o);break;case"T":b=a,S=o;M=s.len(),T=s.data;r===l.Q&&(b+=a-T[M-4],S+=o-T[M-3]),a=d[f++],o=d[f++],h=l.Q,s.addData(h,b,S,a,o);break;case"t":b=a,S=o;M=s.len(),T=s.data;r===l.Q&&(b+=a-T[M-4],S+=o-T[M-3]),a+=d[f++],o+=d[f++],h=l.Q,s.addData(h,b,S,a,o);break;case"A":p=d[f++],m=d[f++],v=d[f++],x=d[f++],y=d[f++],k(w=a,_=o,a=d[f++],o=d[f++],x,y,p,m,v,h=l.A,s);break;case"a":p=d[f++],m=d[f++],v=d[f++],x=d[f++],y=d[f++],k(w=a,_=o,a+=d[f++],o+=d[f++],x,y,p,m,v,h=l.A,s)}}"z"!==c&&"Z"!==c||(h=l.Z,s.addData(h)),r=h}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){var e;t.setData?(t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e)):n.rebuildPath(e=t)},e.applyTransform=function(t){a(n,t),this.dirty(!0)},e}function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}var o=n(1),C=n(6),a=n(57),P=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],g=Math.sqrt,p=Math.sin,m=Math.cos,v=Math.PI,x=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e))},y=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(x(t,e))};e.createFromString=function(t,e){return new o(r(t,e))},e.extendFromString=function(t,e){return o.extend(r(t,e))},e.mergePath=function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var a=t[i];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}return(e=new o(e)).createPathProxy(),e.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},e}},function(t,e){function o(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,a=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),t.createLinearGradient(r,a,i,o)}function s(t,e,n){var r=n.width,i=n.height,a=Math.min(r,i),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(o=o*r+n.x,s=s*i+n.y,l*=a),t.createRadialGradient(o,s,0,o,s,l)}function n(t,e){this.extendFrom(t,!1),this.host=e}for(var h=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],r=n.prototype={constructor:n,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){for(var r=this,i=n&&n.style,a=!i,o=0;o<h.length;o++){var s=h[o],l=s[0];!a&&r[l]===i[l]||(t[l]=r[l]||s[1])}!a&&r.fill===i.fill||(t.fillStyle=r.fill),!a&&r.stroke===i.stroke||(t.strokeStyle=r.stroke),!a&&r.opacity===i.opacity||(t.globalAlpha=null==r.opacity?1:r.opacity),!a&&r.blend===i.blend||(t.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()&&(n=r.lineWidth,t.lineWidth=n/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1))},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var r=("radial"===e.type?s:o)(t,e,n),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}},i=0;i<h.length;i++){var a=h[i];a[0]in r||(r[a[0]]=a[1])}n.getGradient=r.getGradient,t.exports=n},function(t,e){var n=2311;t.exports=function(){return n++}},function(t,e){function n(){this._$handlers={}}var s=Array.prototype.slice;n.prototype={constructor:n,one:function(t,e,n){var r=this._$handlers;if(!e||!t)return this;r[t]||(r[t]=[]);for(var i=0;i<r[t].length;i++)if(r[t][i].h===e)return this;return r[t].push({h:e,one:!0,ctx:n||this}),this},on:function(t,e,n){var r=this._$handlers;if(!e||!t)return this;r[t]||(r[t]=[]);for(var i=0;i<r[t].length;i++)if(r[t][i].h===e)return this;return r[t].push({h:e,one:!1,ctx:n||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,a=n[t].length;i<a;i++)n[t][i].h!=e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;3<n&&(e=s.call(e,1));for(var r=this._$handlers[t],i=r.length,a=0;a<i;){switch(n){case 1:r[a].h.call(r[a].ctx);break;case 2:r[a].h.call(r[a].ctx,e[1]);break;case 3:r[a].h.call(r[a].ctx,e[1],e[2]);break;default:r[a].h.apply(r[a].ctx,e)}r[a].one?(r.splice(a,1),i--):a++}}return this},triggerWithContext:function(t){if(this._$handlers[t])for(var e=arguments,n=e.length,r=(e=4<n?s.call(e,1,e.length-1):e)[e.length-1],i=this._$handlers[t],a=i.length,o=0;o<a;){switch(n){case 1:i[o].h.call(r);break;case 2:i[o].h.call(r,e[1]);break;case 3:i[o].h.call(r,e[1],e[2]);break;default:i[o].h.apply(r,e)}i[o].one?(i.splice(o,1),a--):o++}return this}};t.exports=n},function(t,e,n){var f=n(44),d=n(47),n=n(0),u=n.isString,c=n.isFunction,h=n.isObject,g=n.isArrayLike,p=n.indexOf,n=function(){this.animators=[]};n.prototype={constructor:n,animate:function(t,e){var n,r=!1,i=this,a=this.__zr;if(t){for(var o=t.split("."),s=i,r="shape"===o[0],l=0,h=o.length;l<h;l++)s=s&&s[o[l]];s&&(n=s)}else n=i;if(n){var u=i.animators,c=new f(n,e);return c.during(function(t){i.dirty(r)}).done(function(){u.splice(p(u,c),1)}),u.push(c),a&&a.animation.addAnimator(c),c}d('Property "'+t+'" is not existed in element '+i.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,i,a){function o(){--l||i&&i()}u(n)?(i=r,r=n,n=0):c(r)?(i=r,r="linear",n=0):c(n)?(i=n,n=0):e=c(e)?(i=e,500):e||500,this.stopAnimation(),this._animateToShallow("",this,t,e,n);var s=this.animators.slice(),l=s.length;l||i&&i();for(var h=0;h<s.length;h++)s[h].done(o).start(r,a)},_animateToShallow:function(t,e,n,r,i){var a,o,s={},l=0;for(a in n)n.hasOwnProperty(a)&&(null!=e[a]?h(n[a])&&!g(n[a])?this._animateToShallow(t?t+"."+a:a,e[a],n[a],r,i):(s[a]=n[a],l++):null!=n[a]&&(t?((o={})[t]={},o[t][a]=n[a],this.attr(o)):this.attr(a,n[a])));return 0<l&&this.animate(t,!1).when(null==r?500:r,s).delay(i||0),this}};t.exports=n},function(t,e,n){function i(t,e){return t[e]}function a(t,e,n){t[e]=n}function D(t,e,n){return(e-t)*n+t}function L(t,e,n){return.5<n?e:t}function F(t,e,n,r,i){var a=t.length;if(1==i)for(var o=0;o<a;o++)r[o]=D(t[o],e[o],n);else for(var s=a&&t[0].length,o=0;o<a;o++)for(var l=0;l<s;l++)r[o][l]=D(t[o][l],e[o][l],n)}function R(t,e,n){var r=t.length,i=e.length;if(r!==i)if(i<r)t.length=i;else for(var a=r;a<i;a++)t.push(1===n?e[a]:l.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function B(t,e,n,r,i,a,o,s,l){var h=t.length;if(1==l)for(var u=0;u<h;u++)s[u]=z(t[u],e[u],n[u],r[u],i,a,o);else for(var c=t[0].length,u=0;u<h;u++)for(var f=0;f<c;f++)s[u][f]=z(t[u][f],e[u][f],n[u][f],r[u][f],i,a,o)}function z(t,e,n,r,i,a,o){t=.5*(n-t),r=.5*(r-e);return(2*(e-n)+t+r)*o+(-3*(e-n)-2*t-r)*a+t*i+e}function N(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function h(t,e,n,r,a,i){var o=t._getter,s=t._setter,l="spline"===e,h=r.length;if(h){var u=r[0].value,c=q(u),f=!1,d=!1,g=c?(u=(u=r)[u.length-1].value,q(u&&u[0])?2:1):0;r.sort(function(t,e){return t.time-e.time});for(var p=r[h-1].time,m=[],v=[],x=r[0].value,y=!0,w=0;w<h;w++){m.push(r[w].time/p);var _,b=r[w].value;c&&function(t,e,n){if(t===e)return 1;var r=t.length;if(r===e.length){if(1===n){for(var i=0;i<r;i++)if(t[i]!==e[i])return}else for(var a=t[0].length,i=0;i<r;i++)for(var o=0;o<a;o++)if(t[i][o]!==e[i][o])return;return 1}}(b,x,g)||!c&&b===x||(y=!1),"string"==typeof(x=b)&&((_=W.parse(b))?(b=_,f=!0):d=!0),v.push(b)}if(i||!y){for(var S=v[h-1],w=0;w<h-1;w++)c?R(v[w],S,g):!isNaN(v[w])||isNaN(S)||d||f||(v[w]=S);c&&R(o(t._target,a),S,g);var M,T,k,C,P,I,A=0,O=0;f&&(I=[0,0,0,0]);n=new E({target:t._target,life:p,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<O){for(n=Math.min(A+1,h-1);0<=n&&!(m[n]<=e);n--);n=Math.min(n,h-2)}else{for(n=A;n<h&&!(m[n]>e);n++);n=Math.min(n-1,h-2)}O=e;var r,i=m[(A=n)+1]-m[n];if(0!=i)if(M=(e-m[n])/i,l)if(k=v[n],T=v[0===n?n:n-1],C=v[h-2<n?h-1:n+1],P=v[h-3<n?h-1:n+2],c)B(T,k,C,P,M,M*M,M*M*M,o(t,a),g);else{if(f)r=B(T,k,C,P,M,M*M,M*M*M,I,1),r=N(I);else{if(d)return.5<M?C:k;r=z(T,k,C,P,M,M*M,M*M*M)}s(t,a,r)}else if(c)F(v[n],v[n+1],M,o(t,a),g);else{if(f)F(v[n],v[n+1],M,I,1),r=N(I);else{if(d)return L(v[n],v[n+1],M);r=D(v[n],v[n+1],M)}s(t,a,r)}},ondestroy:n});return e&&"spline"!==e&&(n.easing=e),n}}}var E=n(45),W=n(18),q=n(0).isArrayLike,l=Array.prototype.slice,n=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||i,this._setter=r||a,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};n.prototype={when:function(t,e){var n,r=this._tracks;for(n in e)if(e.hasOwnProperty(n)){if(!r[n]){r[n]=[];var i=this._getter(this._target,n);if(null==i)continue;0!==t&&r[n].push({time:0,value:function(t){if(q(t)){var e=t.length;if(q(t[0])){for(var n=[],r=0;r<e;r++)n.push(l.call(t[r]));return n}return l.call(t)}return t}(i)})}r[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){function n(){--l||s._doneCallback()}var r,i,a,o,s=this,l=0;for(i in this._tracks)!this._tracks.hasOwnProperty(i)||(a=h(this,t,n,this._tracks[i],i,e))&&(this._clipList.push(a),l++,this.animation&&this.animation.addClip(a),r=a);return r&&(o=r.onframe,r.onframe=function(t,e){o(t,e);for(var n=0;n<s._onframeList.length;n++)s._onframeList[n](t,e)}),l||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=n},function(t,e,n){function r(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}var i=n(46);r.prototype={constructor:r,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else if(!((n=(t-this._startTime-this._pausedTime)/this._life)<0)){var n=Math.min(n,1),e=this.easing,e="string"==typeof e?i[e]:e,e="function"==typeof e?e(n):n;return this.fire("frame",e),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};t.exports=r},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}};t.exports=n},function(t,e,n){var r=n(19).debugMode,n=function(){};1===r?n=function(){for(var t in arguments)throw new Error(arguments[t])}:1<r&&(n=function(){for(var t in arguments)console.log(arguments[t])}),t.exports=n},function(t,e,n){var a=n(20),o=new(n(3)),n=function(){};n.prototype={constructor:n,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&a.normalizeTextStyle(n,!0);var r,i=n.text;null!=i&&(i+=""),a.needDrawText(i,n)&&(t.save(),r=this.transform,n.transformText?this.setTransform(t):r&&(o.copy(e),o.applyTransform(r),e=o),a.renderText(this,t,i,n,e),t.restore())}},t.exports=n},function(t,e,n){var d=n(2),m=n(4),v=Math.min,x=Math.max,g=Math.sin,p=Math.cos,y=2*Math.PI,w=d.create(),_=d.create(),b=d.create(),S=[],M=[];e.fromPoints=function(t,e,n){if(0!==t.length){for(var r=t[0],i=r[0],a=r[0],o=r[1],s=r[1],l=1;l<t.length;l++)r=t[l],i=v(i,r[0]),a=x(a,r[0]),o=v(o,r[1]),s=x(s,r[1]);e[0]=i,e[1]=o,n[0]=a,n[1]=s}},e.fromLine=function(t,e,n,r,i,a){i[0]=v(t,n),i[1]=v(e,r),a[0]=x(t,n),a[1]=x(e,r)},e.fromCubic=function(t,e,n,r,i,a,o,s,l,h){var u,c=m.cubicExtrema,f=m.cubicAt,d=c(t,n,i,o,S);for(l[0]=1/0,l[1]=1/0,h[0]=-1/0,h[1]=-1/0,u=0;u<d;u++){var g=f(t,n,i,o,S[u]);l[0]=v(g,l[0]),h[0]=x(g,h[0])}for(d=c(e,r,a,s,M),u=0;u<d;u++){var p=f(e,r,a,s,M[u]);l[1]=v(p,l[1]),h[1]=x(p,h[1])}l[0]=v(t,l[0]),h[0]=x(t,h[0]),l[0]=v(o,l[0]),h[0]=x(o,h[0]),l[1]=v(e,l[1]),h[1]=x(e,h[1]),l[1]=v(s,l[1]),h[1]=x(s,h[1])},e.fromQuadratic=function(t,e,n,r,i,a,o,s){var l=m.quadraticExtremum,h=m.quadraticAt,u=x(v(l(t,n,i),1),0),l=x(v(l(e,r,a),1),0),u=h(t,n,i,u),l=h(e,r,a,l);o[0]=v(t,i,u),o[1]=v(e,a,l),s[0]=x(t,i,u),s[1]=x(e,a,l)},e.fromArc=function(t,e,n,r,i,a,o,s,l){var h=d.min,u=d.max,c=Math.abs(i-a);if(c%y<1e-4&&1e-4<c)return s[0]=t-n,s[1]=e-r,l[0]=t+n,void(l[1]=e+r);w[0]=p(i)*n+t,w[1]=g(i)*r+e,_[0]=p(a)*n+t,_[1]=g(a)*r+e,h(s,w,_),u(l,w,_),(i%=y)<0&&(i+=y),(a%=y)<0&&(a+=y),a<i&&!o?a+=y:i<a&&o&&(i+=y),o&&(o=a,a=i,i=o);for(var f=0;f<a;f+=Math.PI/2)i<f&&(b[0]=p(f)*n+t,b[1]=g(f)*r+e,h(s,b,s),u(l,b,l))}},function(t,e,n){function M(t,e,n,r,i,a,o,s,l,h){if(e<h&&r<h&&a<h&&s<h||h<e&&h<r&&h<a&&h<s)return 0;var u=A.cubicRootAt(e,r,a,s,h,R);if(0===u)return 0;for(var c,f,d=0,g=-1,p=0;p<u;p++){var m=R[p],v=0===m||1===m?.5:1;A.cubicAt(t,n,i,o,m)<l||(g<0&&(g=A.cubicExtrema(e,r,a,s,x),x[1]<x[0]&&1<g&&(f=void 0,f=x[0],x[0]=x[1],x[1]=f),f=A.cubicAt(e,r,a,s,x[0]),1<g&&(c=A.cubicAt(e,r,a,s,x[1]))),2==g?m<x[0]?d+=f<e?v:-v:m<x[1]?d+=c<f?v:-v:d+=s<c?v:-v:m<x[0]?d+=f<e?v:-v:d+=s<f?v:-v)}return d}function i(t,e,n,r,i){for(var a,o,s=0,l=0,h=0,u=0,c=0,f=0;f<t.length;){var d=t[f++];switch(d===D.M&&1<f&&(n||(s+=O(l,h,u,c,r,i))),1==f&&(u=l=t[f],c=h=t[f+1]),d){case D.M:l=u=t[f++],h=c=t[f++];break;case D.L:if(n){if(T.containStroke(l,h,t[f],t[f+1],e,r,i))return!0}else s+=O(l,h,t[f],t[f+1],r,i)||0;l=t[f++],h=t[f++];break;case D.C:if(n){if(k.containStroke(l,h,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],e,r,i))return!0}else s+=M(l,h,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],r,i)||0;l=t[f++],h=t[f++];break;case D.Q:if(n){if(C.containStroke(l,h,t[f++],t[f++],t[f],t[f+1],e,r,i))return!0}else s+=function(t,e,n,r,i,a,o,s){if(e<s&&r<s&&a<s||s<e&&s<r&&s<a)return 0;var l=A.quadraticRootAt(e,r,a,s,R);if(0===l)return 0;var h=A.quadraticExtremum(e,r,a);if(0<=h&&h<=1){for(var u=0,c=A.quadraticAt(e,r,a,h),f=0;f<l;f++){var d=0===R[f]||1===R[f]?.5:1;A.quadraticAt(t,n,i,R[f])<o||(R[f]<h?u+=c<e?d:-d:u+=a<c?d:-d)}return u}return d=0===R[0]||1===R[0]?.5:1,A.quadraticAt(t,n,i,R[0])<o?0:a<e?d:-d}(l,h,t[f++],t[f++],t[f],t[f+1],r,i)||0;l=t[f++],h=t[f++];break;case D.A:var g=t[f++],p=t[f++],m=t[f++],v=t[f++],x=t[f++],y=t[f++],w=(t[f++],1-t[f++]),_=Math.cos(x)*m+g,b=Math.sin(x)*v+p;1<f?s+=O(l,h,_,b,r,i):(u=_,c=b);var S=(r-g)*v/m+g;if(n){if(P.containStroke(g,p,v,x,x+y,w,e,S,i))return!0}else s+=function(t,e,n,r,i,a,o,s){if((s-=e)>n||s<-n)return 0;if(e=Math.sqrt(n*n-s*s),R[0]=-e,R[1]=e,(n=Math.abs(r-i))<1e-4)return 0;if(n%L<1e-4){i=L;var l=a?1:-1;return o>=R[r=0]+t&&o<=R[1]+t?l:0}(i=a?(e=r,r=I(i),I(e)):(r=I(r),I(i)))<r&&(i+=L);for(var h=0,u=0;u<2;u++){var c=R[u];o<c+t&&(l=a?1:-1,(r<=(c=(c=Math.atan2(s,c))<0?L+c:c)&&c<=i||r<=c+L&&c+L<=i)&&(h+=l=c>Math.PI/2&&c<1.5*Math.PI?-l:l))}return h}(g,p,v,x,x+y,w,S,i);l=Math.cos(x+y)*m+g,h=Math.sin(x+y)*v+p;break;case D.R:u=l=t[f++],c=h=t[f++],_=u+t[f++],b=c+t[f++];if(n){if(T.containStroke(u,c,_,c,e,r,i)||T.containStroke(_,c,_,b,e,r,i)||T.containStroke(_,b,u,b,e,r,i)||T.containStroke(u,b,u,c,e,r,i))return!0}else s+=O(_,c,_,b,r,i),s+=O(u,b,u,c,r,i);break;case D.Z:if(n){if(T.containStroke(l,h,u,c,e,r,i))return!0}else s+=O(l,h,u,c,r,i);l=u,h=c}}return n||(a=h,o=c,Math.abs(a-o)<F)||(s+=O(l,h,u,c,r,i)||0),0!==s}var r=n(6),T=n(51),k=n(52),C=n(53),P=n(54),I=n(22).normalizeRadian,A=n(4),O=n(55),D=r.CMD,L=2*Math.PI,F=1e-4,R=[-1,-1,-1],x=[-1,-1];e.contain=function(t,e,n){return i(t,0,!1,e,n)},e.containStroke=function(t,e,n,r){return i(t,e,!0,n,r)}},function(t,e){e.containStroke=function(t,e,n,r,i,a,o){if(0===i)return!1;var s=i,i=0;return!(e+s<o&&r+s<o||o<e-s&&o<r-s||t+s<a&&n+s<a||a<t-s&&a<n-s)&&(t===n?Math.abs(a-t)<=s/2:(n=(i=(e-r)/(t-n))*a-o+(t*r-n*e)/(t-n))*n/(i*i+1)<=s/2*s/2)}},function(t,e,n){var c=n(4);e.containStroke=function(t,e,n,r,i,a,o,s,l,h,u){return 0!==l&&(!(e+l<u&&r+l<u&&a+l<u&&s+l<u||u<e-l&&u<r-l&&u<a-l&&u<s-l||t+l<h&&n+l<h&&i+l<h&&o+l<h||h<t-l&&h<n-l&&h<i-l&&h<o-l)&&c.cubicProjectPoint(t,e,n,r,i,a,o,s,h,u,null)<=l/2)}},function(t,e,n){var h=n(4).quadraticProjectPoint;e.containStroke=function(t,e,n,r,i,a,o,s,l){return 0!==o&&(!(e+o<l&&r+o<l&&a+o<l||l<e-o&&l<r-o&&l<a-o||t+o<s&&n+o<s&&i+o<s||s<t-o&&s<n-o&&s<i-o)&&h(t,e,n,r,i,a,s,l,null)<=o/2)}},function(t,e,n){var h=n(22).normalizeRadian,u=2*Math.PI;e.containStroke=function(t,e,n,r,i,a,o,s,l){return 0!==o&&(s-=t,l-=e,e=Math.sqrt(s*s+l*l),!(n<e-o||e+o<n)&&(Math.abs(r-i)%u<1e-4||((i=a?(a=r,r=h(i),h(a)):(r=h(r),h(i)))<r&&(i+=u),(s=Math.atan2(l,s))<0&&(s+=u),r<=s&&s<=i||r<=s+u&&s+u<=i)))}},function(t,e){t.exports=function(t,e,n,r,i,a){if(e<a&&r<a||a<e&&a<r)return 0;if(r===e)return 0;var o=r<e?1:-1;return 1!=(a=(a-e)/(r-e))&&0!=a||(o=r<e?.5:-.5),i<a*(n-t)+t?o:0}},function(t,e){function n(t,e){this.image=t,this.repeat=e,this.type="pattern"}n.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};t.exports=n},function(t,e,n){var r=n(6),w=n(2).applyTransform,_=r.CMD,b=[[],[],[]],S=Math.sqrt,M=Math.atan2;t.exports=function(t,e){for(var n,r,i,a,o=t.data,s=_.M,l=_.C,h=_.L,u=_.R,c=_.A,f=_.Q,d=0,g=0;d<o.length;){switch(n=o[d++],g=d,r=0,n){case s:case h:r=1;break;case l:r=3;break;case f:r=2;break;case c:var p=e[4],m=e[5],v=S(e[0]*e[0]+e[1]*e[1]),x=S(e[2]*e[2]+e[3]*e[3]),y=M(-e[1]/x,e[0]/v);o[d]*=v,o[d++]+=p,o[d]*=x,o[d++]+=m,o[d++]*=v,o[d++]*=x,o[d++]+=y,o[d++]+=y,g=d+=2;break;case u:a[0]=o[d++],a[1]=o[d++],w(a,a,e),o[g++]=a[0],o[g++]=a[1],a[0]+=o[d++],a[1]+=o[d++],w(a,a,e),o[g++]=a[0],o[g++]=a[1]}for(i=0;i<r;i++)(a=b[i])[0]=o[d++],a[1]=o[d++],w(a,a,e),o[g++]=a[0],o[g++]=a[1]}}},function(t,e,n){function r(t){i.call(this,t)}var i=n(12),a=n(3),o=n(0),u=n(10);r.prototype={constructor:r,type:"image",brush:function(t,e){var n=this.style,r=n.image;n.bind(t,this,e);var i,a,o,s,l,h=this._image=u.createOrUpdateImage(r,this._image,this,this.onload);h&&u.isImageReady(h)&&(i=n.x||0,a=n.y||0,o=n.width,e=n.height,r=h.width/h.height,null==o&&null!=e?o=e*r:null==e&&null!=o?e=o/r:null==o&&null==e&&(o=h.width,e=h.height),this.setTransform(t),n.sWidth&&n.sHeight?(s=n.sx||0,l=n.sy||0,t.drawImage(h,s,l,n.sWidth,n.sHeight,i,a,o,e)):n.sx&&n.sy?(s=n.sx,l=n.sy,t.drawImage(h,s,l,o-s,e-l,i,a,o,e)):t.drawImage(h,i,a,o,e),this.restoreTransform(t),null!=n.text&&this.drawRectText(t,this.getBoundingRect()))},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new a(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o.inherits(r,i);t.exports=r},function(t,e,n){function a(t){for(var e in r.call(this,t=t||{}),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0}var o=n(0),r=n(16),l=n(3);a.prototype={constructor:a,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){var n;return t&&t!==this&&t.parent!==this&&e&&e.parent===this&&(0<=(e=(n=this._children).indexOf(e))&&(n.splice(e,0,t),this._doAdd(t))),this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof a&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,i=o.indexOf(r,t);return i<0||(r.splice(i,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(n)),e&&e.refresh()),this},removeAll:function(){for(var t,e=this._children,n=this.__storage,r=0;r<e.length;r++)t=e[r],n&&(n.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(n)),t.parent=null;return e.length=0,this},eachChild:function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof a&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof a&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new l(0,0,0,0),r=t||this._children,i=[],a=0;a<r.length;a++){var o,s=r[a];s.ignore||s.invisible||(o=s.getBoundingRect(),(s=s.getLocalTransform(i))?(n.copy(o),n.applyTransform(s),(e=e||n.clone()).union(n)):(e=e||o.clone()).union(o))}return e||n}},o.inherits(a,r);t.exports=a},function(t,e,n){var r=n(12),i=n(0),a=n(5),o=n(20),n=function(t){r.call(this,t)};n.prototype={constructor:n,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&o.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),n.bind(t,this,e),o.needDrawText(r,n)&&(this.setTransform(t),o.renderText(this,t,r,n),this.restoreTransform(t))},getBoundingRect:function(){var t,e=this.style;return this.__dirty&&o.normalizeTextStyle(e,!0),this._rect||(null!=(t=e.text)?t+="":t="",(t=a.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich)).x+=e.x||0,t.y+=e.y||0,o.getStroke(e.textStroke,e.textStrokeWidth)&&(e=e.textStrokeWidth,t.x-=e/2,t.y-=e/2,t.width+=e,t.height+=e),this._rect=t),this._rect}},i.inherits(n,r);t.exports=n},function(t,e,n){n=n(1).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=n},function(t,e,n){var r=n(1),n=n(63),r=r.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:n(r.prototype.brush),buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(o),e=Math.sin(o);t.moveTo(h*i+n,e*i+r),t.lineTo(h*a+n,e*a+r),t.arc(n,r,a,o,s,!l),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+r),0!==i&&t.arc(n,r,i,s,o,l),t.closePath()}});t.exports=r},function(t,e,n){var r=n(15),l=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=function(s){return r.browser.ie&&11<=r.browser.version?function(){var t,e=this.__clipPaths,n=this.style;if(e)for(var r=0;r<e.length;r++){var i=e[r],a=i&&i.shape,i=i&&i.type;if(a&&("sector"===i&&a.startAngle===a.endAngle||"rect"===i&&(!a.width||!a.height))){for(var o=0;o<l.length;o++)l[o][2]=n[l[o][0]],n[l[o][0]]=l[o][1];t=!0;break}}if(s.apply(this,arguments),t)for(o=0;o<l.length;o++)n[l[o][0]]=l[o][2]}:s}},function(t,e,n){n=n(1).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)}});t.exports=n},function(t,e,n){var r=n(1),i=n(23),r=r.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){i.buildPath(t,e,!0)}});t.exports=r},function(t,e,n){function g(t,e,n,r,i,a,o){t=.5*(n-t),r=.5*(r-e);return(2*(e-n)+t+r)*o+(-3*(e-n)-2*t-r)*a+t*i+e}var p=n(2).distance;t.exports=function(t,e){for(var n=t.length,r=[],i=0,a=1;a<n;a++)i+=p(t[a-1],t[a]);for(var o=(o=i/2)<n?n:o,a=0;a<o;a++){var s,l,h=a/(o-1)*(e?n:n-1),u=Math.floor(h),c=h-u,f=t[u%n],d=e?(s=t[(u-1+n)%n],l=t[(u+1)%n],t[(u+2)%n]):(s=t[0===u?u:u-1],l=t[n-2<u?n-1:u+1],t[n-3<u?n-1:u+2]),h=c*c,u=c*h;r.push([g(s[0],f[0],l[0],d[0],c,h,u),g(s[1],f[1],l[1],d[1],c,h,u)])}return r}},function(t,e,n){var n=n(2),x=n.min,y=n.max,w=n.scale,_=n.distance,b=n.add,S=n.clone,M=n.sub;t.exports=function(t,e,n,r){var i,a,o=[],s=[],l=[],h=[];if(r){for(var u=[1/0,1/0],c=[-1/0,-1/0],f=0,d=t.length;f<d;f++)x(u,u,t[f]),y(c,c,t[f]);x(u,u,r[0]),y(c,c,r[1])}for(f=0,d=t.length;f<d;f++){var g=t[f];if(n)i=t[f?f-1:d-1],a=t[(f+1)%d];else{if(0===f||f===d-1){o.push(S(t[f]));continue}i=t[f-1],a=t[f+1]}M(s,a,i),w(s,s,e);var p=_(g,i),m=_(g,a),v=p+m;0!==v&&(p/=v,m/=v),w(l,s,-p),w(h,s,m);m=b([],g,l),g=b([],g,h);r&&(y(m,m,u),x(m,m,c),y(g,g,u),x(g,g,c)),o.push(m),o.push(g)}return n&&o.push(o.shift()),o}},function(t,e,n){var r=n(1),i=n(23),r=r.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){i.buildPath(t,e,!1)}});t.exports=r},function(t,e,n){var r=n(1),o=n(21),r=r.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width,a=e.height;e.r?o.buildPath(t,e):t.rect(n,r,i,a),t.closePath()}});t.exports=r},function(t,e,n){n=n(1).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2,e=e.percent;0!==e&&(t.moveTo(n,r),e<1&&(i=n*(1-e)+i*e,a=r*(1-e)+a*e),t.lineTo(i,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=n},function(t,e,n){function r(t,e,n){var r=t.cpx2,i=t.cpy2;return null===r||null===i?[(n?h:s)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?h:s)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?l:o)(t.x1,t.cpx1,t.x2,e),(n?l:o)(t.y1,t.cpy1,t.y2,e)]}var i=n(1),a=n(2),n=n(4),u=n.quadraticSubdivide,c=n.cubicSubdivide,o=n.quadraticAt,s=n.cubicAt,l=n.quadraticDerivativeAt,h=n.cubicDerivativeAt,f=[],i=i.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=e.cpx1,s=e.cpy1,l=e.cpx2,h=e.cpy2,e=e.percent;0!==e&&(t.moveTo(n,r),null==l||null==h?(e<1&&(u(n,o,i,e,f),o=f[1],i=f[2],u(r,s,a,e,f),s=f[1],a=f[2]),t.quadraticCurveTo(o,s,i,a)):(e<1&&(c(n,o,l,i,e,f),o=f[1],l=f[2],i=f[3],c(r,s,h,a,e,f),s=f[1],h=f[2],a=f[3]),t.bezierCurveTo(o,s,l,h,i,a)))},pointAt:function(t){return r(this.shape,t,!1)},tangentAt:function(t){t=r(this.shape,t,!0);return a.normalize(t,t)}});t.exports=i},function(t,e,n){n=n(1).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),a=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(a),e=Math.sin(a);t.moveTo(l*i+n,e*i+r),t.arc(n,r,i,a,o,!s)}});t.exports=n},function(t,e,n){var r=n(1),n=r.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],r=0;r<n.length;r++)n[r].buildPath(t,n[r].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),r.prototype.getBoundingRect.call(this)}});t.exports=n},function(t,e,n){var r=n(0),o=n(24),n=function(t,e,n,r,i,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=a||!1,o.call(this,i)};n.prototype={constructor:n},r.inherits(n,o);t.exports=n},function(t,e,n){var r=n(0),a=n(24),n=function(t,e,n,r,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,a.call(this,r)};n.prototype={constructor:n},r.inherits(n,a);t.exports=n},function(t,e,n){var r=n(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);t.exports={getItemStyle:function(t,e){t=r(this,t,e),e=this.getBorderLineDash();return e&&(t.lineDash=e),t},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}}},function(t,e,n){var h=n(7);h.extendChartView({type:"wordCloud",render:function(t,e,n){var o=this.group;o.removeAll();var s=t.getData(),l=t.get("gridSize");t.layoutInstance.ondraw=function(t,e,n,r){var i=s.getItemModel(n),a=i.getModel("textStyle.normal"),i=i.getModel("textStyle.emphasis"),r=new h.graphic.Text({style:h.graphic.setTextStyle({},a,{x:r.info.fillTextOffsetX,y:r.info.fillTextOffsetY+.5*e,text:t,textBaseline:"middle",textFill:s.getItemVisual(n,"color"),fontSize:e}),scale:[1/r.info.mu,1/r.info.mu],position:[(r.gx+r.info.gw/2)*l,(r.gy+r.info.gh/2)*l],rotation:r.rot});o.add(r),s.setItemGraphicEl(n,r),h.graphic.setHoverStyle(r,h.graphic.setTextStyle({},i,null,{forMerge:!0},!0))},this._model=t},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}})},function(t,e,n){"use strict";var o,R;function r(_,t){function e(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}if(o){(_=!Array.isArray(_)?[_]:_).forEach(function(t,e){if("string"==typeof t){if(_[e]=document.getElementById(t),!_[e])throw"The element id specified is not found."}else if(!t.tagName&&!t.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var n,b={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(t)for(var r in t)r in b&&(b[r]=t[r]);if("function"!=typeof b.weightFactor&&(n=b.weightFactor,b.weightFactor=function(t){return t*n}),"function"!=typeof b.shape)switch(b.shape){case"circle":default:b.shape="circle";break;case"cardioid":b.shape=function(t){return 1-Math.sin(t)};break;case"diamond":case"square":b.shape=function(t){t%=2*Math.PI/4;return 1/(Math.cos(t)+Math.sin(t))};break;case"triangle-forward":b.shape=function(t){t%=2*Math.PI/3;return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))};break;case"triangle":case"triangle-upright":b.shape=function(t){t=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))};break;case"pentagon":b.shape=function(t){t=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(t)+.726543*Math.sin(t))};break;case"star":b.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return 0<=(t+.955)%(2*Math.PI/5)-2*Math.PI/10?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}b.gridSize=Math.max(Math.floor(b.gridSize),4);var S,M,T,g,k,p,C,P=b.gridSize,m=P-b.maskGapWidth,i=Math.abs(b.maxRotation-b.minRotation),s=Math.min(b.maxRotation,b.minRotation),l=b.rotationStep;switch(b.color){case"random-dark":C=function(){return e(10,50)};break;case"random-light":C=function(){return e(50,90)};break;default:"function"==typeof b.color&&(C=b.color)}var I=null;"function"==typeof b.classes&&(I=b.classes);var v,x=!1,y=[],a=function(t){var e=t.currentTarget,n=e.getBoundingClientRect(),t=t.touches?(r=t.touches[0].clientX,t.touches[0].clientY):(r=t.clientX,t.clientY),r=r-n.left,t=t-n.top,r=Math.floor(r*(e.width/n.width||1)/P),n=Math.floor(t*(e.height/n.height||1)/P);return y[r][n]},w=function(t){var e=a(t);v!==e&&((v=e)?b.hover(e.item,e.dimension,t):b.hover(void 0,void 0,t))},A=function(t){var e=a(t);e&&(b.click(e.item,e.dimension,t),t.preventDefault())},h=[],O=function(){return 0<b.abortThreshold&&(new Date).getTime()-p>b.abortThreshold},D=function(t,e,n,r,i,a){var o,s,l=i.occupied,h=b.drawMask;h&&((o=_[0].getContext("2d")).save(),o.fillStyle=b.maskColor),x&&(s={x:(t+(i=i.bounds)[3])*P,y:(e+i[0])*P,w:(i[1]-i[3]+1)*P,h:(i[2]-i[0]+1)*P});for(var u,c,f,d=l.length;d--;){var g=t+l[d][0],p=e+l[d][1];M<=g||T<=p||g<0||p<0||(u=p,c=h,f=s,p=a,M<=(g=g)||T<=u||g<0||u<0||(S[g][u]=!1,c&&_[0].getContext("2d").fillRect(g*P,u*P,m,m),x&&(y[g][u]={item:p,dimension:f})))}h&&o.restore()},L=function(a){var o,m,v;Array.isArray(a)?(o=a[0],m=a[1]):(o=a.word,m=a.weight,v=a.attributes);var x=0===b.rotateRatio||Math.random()>b.rotateRatio?0:0===i?s:s+Math.round(Math.random()*i/l)*l,y=function(t,e,n){var r=b.weightFactor(e);if(r<=b.minSize)return!1;var i=1;r<R&&(i=function(){for(var t=2;t*r<R;)t+=2;return t}());var a=document.createElement("canvas"),o=a.getContext("2d",{willReadFrequently:!0});o.font=b.fontWeight+" "+(r*i).toString(10)+"px "+b.fontFamily;var s=o.measureText(t).width/i,l=Math.max(r*i,o.measureText("m").width,o.measureText("Ｗ").width)/i,h=s+2*l,u=3*l,c=Math.ceil(h/P),e=Math.ceil(u/P),h=c*P,u=e*P,c=-s/2,e=.4*-l,f=Math.ceil((h*Math.abs(Math.sin(n))+u*Math.abs(Math.cos(n)))/P),h=Math.ceil((h*Math.abs(Math.cos(n))+u*Math.abs(Math.sin(n)))/P),d=h*P,u=f*P;a.setAttribute("width",d),a.setAttribute("height",u),o.scale(1/i,1/i),o.translate(d*i/2,u*i/2),o.rotate(-n),o.font=b.fontWeight+" "+(r*i).toString(10)+"px "+b.fontFamily,o.fillStyle="#000",o.textBaseline="middle",o.fillText(t,c*i,(e+.5*r)*i);var g=o.getImageData(0,0,d,u).data;if(O())return!1;for(var p,m,v,x=[],y=h,w=[f/2,h/2,f/2,h/2];y--;)for(p=f;p--;){v=P;t:for(;v--;)for(m=P;m--;)if(g[4*((p*P+v)*d+(y*P+m))+3]){x.push([y,p]),y<w[3]&&(w[3]=y),y>w[1]&&(w[1]=y),p<w[0]&&(w[0]=p),p>w[2]&&(w[2]=p);break t}}return{mu:i,occupied:x,bounds:w,gw:h,gh:f,fillTextOffsetX:c,fillTextOffsetY:e,fillTextWidth:s,fillTextHeight:l,fontSize:r}}(o,m,x);if(!y)return!1;if(O())return!1;if(!b.drawOutOfBound){var t=y.bounds;if(t[1]-t[3]+1>M||t[2]-t[0]+1>T)return!1}for(var w=k+1;w--;){var e=function(t){if(h[t])return h[t];var e=8*t,n=e,r=[];for(0===t&&r.push([g[0],g[1],0]);n--;){var i=1;"circle"!==b.shape&&(i=b.shape(n/e*2*Math.PI)),r.push([g[0]+t*i*Math.cos(-n/e*2*Math.PI),g[1]+t*i*Math.sin(-n/e*2*Math.PI)*b.ellipticity,n/e*2*Math.PI])}return h[t]=r}(k-w);b.shuffle&&function(t){for(var e,n,r=t.length;r;e=Math.floor(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);}(e=[].concat(e));for(var n=0;n<e.length;n++){var r=function(t){var s,l,h,u,e,n,c,f,d,g,p,r=Math.floor(t[0]-y.gw/2),i=Math.floor(t[1]-y.gh/2);return y.gw,y.gh,!!function(t,e,n){for(var r=n.length;r--;){var i=t+n[r][0],a=e+n[r][1];if(M<=i||T<=a||i<0||a<0){if(!b.drawOutOfBound)return!1}else if(!S[i][a])return!1}return!0}(r,i,y.occupied)&&(s=r,l=i,h=y,u=o,e=m,n=k-w,t=t[2],c=x,f=v,d=h.fontSize,g=C?C(u,e,d,n,t):b.color,p=I?I(u,e,d,n,t):b.classes,(t=h.bounds)[3],t[0],t[1],t[3],t[2],t[0],_.forEach(function(t){if(t.getContext){var e=t.getContext("2d"),n=h.mu;e.save(),e.scale(1/n,1/n),e.font=b.fontWeight+" "+(d*n).toString(10)+"px "+b.fontFamily,e.fillStyle=g,e.translate((s+h.gw/2)*P*n,(l+h.gh/2)*P*n),0!==c&&e.rotate(-c),e.textBaseline="middle",e.fillText(u,h.fillTextOffsetX*n,(h.fillTextOffsetY+.5*d)*n),e.restore()}else{var r=document.createElement("span"),e="",e="rotate("+-c/Math.PI*180+"deg) ";1!==h.mu&&(e+="translateX(-"+h.fillTextWidth/4+"px) scale("+1/h.mu+")");var i,a={position:"absolute",display:"block",font:b.fontWeight+" "+d*h.mu+"px "+b.fontFamily,left:(s+h.gw/2)*P+h.fillTextOffsetX+"px",top:(l+h.gh/2)*P+h.fillTextOffsetY+"px",width:h.fillTextWidth+"px",height:h.fillTextHeight+"px",lineHeight:d+"px",whiteSpace:"nowrap",transform:e,webkitTransform:e,msTransform:e,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(i in g&&(a.color=g),r.textContent=u,a)r.style[i]=a[i];if(f)for(var o in f)r.setAttribute(o,f[o]);p&&(r.className+=p),t.appendChild(r)}}),D(r,i,0,0,y,a),{gx:r,gy:i,rot:x,info:y})}(e[n]);if(r)return r}}return null},F=function(n,r,i){if(r)return!_.some(function(t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,!0,r,i||{}),!t.dispatchEvent(e)},this);_.forEach(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent(n,!0,r,i||{}),t.dispatchEvent(e)},this)};!function(){var t,n,e=_[0];if(T=e.getContext?(M=Math.ceil(e.width/P),Math.ceil(e.height/P)):(r=e.getBoundingClientRect(),M=Math.ceil(r.width/P),Math.ceil(r.height/P)),F("wordcloudstart",!0)){if(g=b.origin?[b.origin[0]/P,b.origin[1]/P]:[M/2,T/2],k=Math.floor(Math.sqrt(M*M+T*T)),S=[],!e.getContext||b.clearCanvas)for(_.forEach(function(t){var e;t.getContext?((e=t.getContext("2d")).fillStyle=b.backgroundColor,e.clearRect(0,0,M*(P+1),T*(P+1)),e.fillRect(0,0,M*(P+1),T*(P+1))):(t.textContent="",t.style.backgroundColor=b.backgroundColor,t.style.position="relative")}),l=M;l--;)for(S[l]=[],t=T;t--;)S[l][t]=!0;else{var r=document.createElement("canvas").getContext("2d");r.fillStyle=b.backgroundColor,r.fillRect(0,0,1,1);for(var i,a,o=r.getImageData(0,0,1,1).data,s=e.getContext("2d").getImageData(0,0,M*P,T*P).data,l=M;l--;)for(S[l]=[],t=T;t--;){a=P;t:for(;a--;)for(i=P;i--;)for(h=4;h--;)if(s[4*((t*P+a)*M*P+(l*P+i))+h]!==o[h]){S[l][t]=!1;break t}!1!==S[l][t]&&(S[l][t]=!0)}s=r=o=void 0}if(b.hover||b.click){for(x=!0,l=M+1;l--;)y[l]=[];b.hover&&e.addEventListener("mousemove",w),b.click&&(e.addEventListener("click",A),e.addEventListener("touchstart",A),e.addEventListener("touchend",function(t){t.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function t(){e.removeEventListener("wordcloudstart",t),e.removeEventListener("mousemove",w),e.removeEventListener("click",A),v=void 0})}var h=0,u=0!==b.wait?(n=window.setTimeout,window.clearTimeout):(n=window.setImmediate,window.clearImmediate),c=function(e,n){_.forEach(function(t){t.removeEventListener(e,n)},this)},f=function t(){c("wordcloudstart",t),u(d)};!function(e){_.forEach(function(t){t.addEventListener("wordcloudstart",e)},this)}(f);var d=n(function t(){if(h>=b.list.length)return u(d),F("wordcloudstop",!1),void c("wordcloudstart",f);p=(new Date).getTime();var e=L(b.list[h]),e=!F("wordclouddrawn",!0,{item:b.list[h],drawn:e});if(O()||e)return u(d),b.abort(),F("wordcloudabort",!1),F("wordcloudstop",!1),void c("wordcloudstart",f);h++,d=n(t,b.wait)},b.wait)}}()}}window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var n=[void 0],r="zero-timeout-message";return window.addEventListener("message",function(t){"string"==typeof t.data&&t.data.substr(0,r.length)===r&&(t.stopImmediatePropagation(),t=parseInt(t.data.substr(r.length),36),n[t]&&(n[t](),n[t]=void 0))},!0),window.clearImmediate=function(t){n[t]&&(n[t]=void 0)},function(t){var e=n.length;return n.push(t),window.postMessage(r+e.toString(36),"*"),e}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}),o=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;t=t.getContext("2d");return!!(t.getImageData&&t.fillText&&Array.prototype.some&&Array.prototype.push)}(),R=function(){if(o){for(var t,e,n=document.createElement("canvas").getContext("2d"),r=20;r;){if(n.font=r.toString(10)+"px sans-serif",n.measureText("Ｗ").width===t&&n.measureText("m").width===e)return r+1;t=n.measureText("Ｗ").width,e=n.measureText("m").width,r--}return 0}}(),r.isSupported=o,r.minFontSize=R,void 0!==(e=function(){return r}.apply(e,[]))&&(t.exports=e)}],r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=25);function r(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,a});